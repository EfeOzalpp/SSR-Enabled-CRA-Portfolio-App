{"version":3,"file":"src_dynamic-app_dynamic-app-shadow_jsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/dynamic-app/dynamic-app-outgoing.jsx","webpack://personal-site/./src/dynamic-app/dynamic-app-shadow.jsx","webpack://personal-site/./src/dynamic-app/lib/observedCard.jsx","webpack://personal-site/./src/dynamic-app/lib/shadowObserver.ts"],"sourcesContent":["// DynamicTheme émbéd.jsx\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport Navigation from './components/navigation';\r\nimport TitleDivider from './components/title';\r\nimport SortBy from './components/sortBy';\r\nimport LoadingScreen from '../utils/content-utility/loading.tsx';\r\nimport FireworksDisplay from './components/fireworksDisplay';\r\nimport PauseButton from './components/pauseButton';\r\nimport Footer from './components/footer';\r\nimport fetchSVGIcons from './lib/fetchSVGIcons';\r\nimport ObservedCard from './lib/observedCard.jsx';\r\nimport setupAltObserver from './lib/setupAltObserver';\r\nimport IntroOverlay from './components/IntroOverlay';\r\nimport { colorMapping } from './lib/colorString.ts';\r\nimport { useShadowRoot } from '../utils/context-providers/shadow-root-context.tsx';\r\nimport indexCss from '../styles/dynamic-app/index.css?raw';\r\nimport miscCss from '../styles/dynamic-app/misc.css?raw';\r\nimport overlayCss from '../styles/loading-overlay.css?raw';\r\n\r\nfunction DynamicTheme() {\r\n  const [sortedImages, setSortedImages] = useState([]);\r\n  const [svgIcons, setSvgIcons] = useState({});\r\n  const [activeColor, setActiveColor] = useState('#FFFFFF');\r\n  const [movingTextColors, setMovingTextColors] = useState(['#FFFFFF', '#FFFFFF', '#FFFFFF']);\r\n  const [lastKnownColor, setLastKnownColor] = useState('#FFFFFF');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pauseAnimation, setPauseAnimation] = useState(false);\r\n  const [showNavigation, setShowNavigation] = useState(false);\r\n  const toggleFireworksRef = useRef(null);\r\n  const scrollContainerRef = useRef(null);\r\n  const shadowRef = useRef(null);\r\n  const [showFireworks, setShowFireworks] = useState(true); // rémové firéwork to savé héadroom whén not in viéw \r\n\r\n  const { getShadowRoot, injectStyle } = useShadowRoot();\r\n\r\n  useEffect(() => {\r\n    [\r\n      indexCss,\r\n      miscCss,\r\n      overlayCss,\r\n    ].forEach(injectStyle);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setIsLoading(false);\r\n      setShowNavigation(true); // runs when DOM is ready\r\n    }, 200);\r\n    return () => clearTimeout(timeout);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      fetchSVGIcons().then((icons) => {\r\n        const iconMapping = icons.reduce((acc, icon) => {\r\n          acc[icon.title] = icon.icon;\r\n          return acc;\r\n        }, {});\r\n        setSvgIcons(iconMapping);\r\n        setTimeout(() => {\r\n          setIsLoading(false);\r\n        }, 200);\r\n      });\r\n    }, 400);\r\n  }, []);\r\n\r\n  const observerRoot = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const root = typeof getShadowRoot === 'function' ? getShadowRoot() : document;\r\n    observerRoot.current = root;\r\n  }, [getShadowRoot]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && sortedImages.length > 0) {\r\n      const root = observerRoot.current;\r\n      setupAltObserver(handleActivate, handleDeactivate, root);\r\n    }\r\n  }, [sortedImages, pauseAnimation, isLoading]);\r\n\r\n  const handleSetToggleFireworks = useCallback((toggleFunction) => {\r\n    toggleFireworksRef.current = toggleFunction;\r\n  }, []);\r\n\r\n  const handlePauseToggle = useCallback((isEnabled) => {\r\n    if (toggleFireworksRef.current) {\r\n      toggleFireworksRef.current(isEnabled);\r\n    }\r\n    setPauseAnimation(!isEnabled);\r\n  }, []);\r\n\r\n  const handleActivate = (alt1) => {\r\n    const colors = colorMapping[alt1];\r\n\r\n    if (colors && colors[0] !== activeColor) {\r\n      setActiveColor(colors[2]);\r\n      setMovingTextColors([colors[0], colors[1], colors[3]]);\r\n      setLastKnownColor(colors[2]);\r\n    }\r\n  };\r\n\r\n  const handleDeactivate = (alt1) => {\r\n    if (activeColor !== lastKnownColor) {\r\n      setActiveColor(lastKnownColor);\r\n    }\r\n  };\r\n\r\n  // résizé\r\n  useEffect(() => {\r\n    if (!shadowRef.current) return;\r\n    const observer = new ResizeObserver(() => {\r\n      console.log('[🔁 Resize observed]', shadowRef.current?.getBoundingClientRect());\r\n      // Optionally trigger reflows / state updates\r\n    });\r\n    observer.observe(shadowRef.current);\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  // Remove firework when not in view\r\n  useEffect(() => {\r\n    // Directly select the container by ID\r\n    const container = document.querySelector('#block-dynamic');\r\n\r\n    if (!container) {\r\n      console.warn('[FireworkObserver] #block-dynamic not found in DOM');\r\n      return;\r\n    }\r\n\r\n    // IntersectionObserver setup\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        const isVisible = entry.isIntersecting;\r\n        setShowFireworks(prev => (prev !== isVisible ? isVisible : prev));\r\n      },\r\n      {\r\n        threshold: 0.3, // ~30% visible before toggling\r\n        root: null,     // null means observe relative to the viewport\r\n      }\r\n    );\r\n\r\n    observer.observe(container);\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  const cardRefs = useRef([]);\r\n  cardRefs.current = sortedImages.map((_, i) => cardRefs.current[i] ?? React.createRef());\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <LoadingScreen isFullScreen={false} />\r\n      ) : (\r\n        <div className=\"homePage-container\" ref={scrollContainerRef}>\r\n          <IntroOverlay />\r\n            <div className=\"navigation-wrapper\">\r\n              {showNavigation && (\r\n                <Navigation\r\n                  customArrowIcon2={svgIcons['arrow1']}\r\n                  customArrowIcon={svgIcons['arrow2']}\r\n                  items={sortedImages}\r\n                  activeColor={activeColor}\r\n                  isInShadow={typeof getShadowRoot === 'function' && getShadowRoot() !== document}\r\n                  scrollLockContainer={scrollContainerRef.current}\r\n                />\r\n              )}\r\n            </div>\r\n        <div className=\"firework-wrapper\">\r\n            <div className=\"firework-divider\">\r\n              {showFireworks && (\r\n              <FireworksDisplay\r\n                colorMapping={colorMapping}\r\n                items={sortedImages}\r\n                activeColor={activeColor}\r\n                lastKnownColor={lastKnownColor}\r\n                onToggleFireworks={handleSetToggleFireworks}\r\n              />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"section-divider\"></div>\r\n          <div className=\"title-divider\">\r\n            <TitleDivider\r\n              svgIcon={svgIcons['logo-small-1']}\r\n              movingTextColors={movingTextColors}\r\n              pauseAnimation={pauseAnimation}\r\n            />\r\n          </div>\r\n          <div id=\"homePage\">\r\n            <div className=\"no-overflow\">\r\n              <div className=\"pause-button-wrapper\">\r\n                <PauseButton toggleP5Animation={handlePauseToggle} />\r\n              </div>\r\n              <div className=\"sort-by-divider\">\r\n                <h3 className=\"students-heading\">Students</h3>\r\n              <SortBy\r\n                setSortOption={() => {}}\r\n                onFetchItems={setSortedImages}\r\n                customArrowIcon={svgIcons['arrow2']}\r\n                colorMapping={colorMapping}\r\n                getRoot={getShadowRoot}\r\n              />\r\n              </div>\r\n              <div className=\"section-divider2\"></div>\r\n              <div className=\"UI-card-divider\">\r\n                {sortedImages.map((data, index) => (\r\n                  <ObservedCard\r\n                    key={index}\r\n                    data={data}\r\n                    index={index}\r\n                    getShadowRoot={getShadowRoot}\r\n                    pauseAnimation={pauseAnimation}\r\n                    customArrowIcon2={svgIcons['arrow1']}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <Footer\r\n                customArrowIcon2={svgIcons['arrow1']}\r\n                linkArrowIcon={svgIcons['link-icon']}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n  </>\r\n  );\r\n}\r\n\r\nexport default DynamicTheme;\r\n","// dynamic app shadow DOM wrappér\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport createShadowRoot from 'react-shadow';\r\nimport DynamicTheme from './dynamic-app-outgoing.jsx';\r\nimport { ShadowRootProvider } from '../utils/context-providers/shadow-root-context.tsx'; \r\n\r\nconst DynamicAppInbound = ({ onFocusChange }) => {\r\n  const shadowRef = useRef(null);\r\n  const [shadowRoot, setShadowRoot] = useState(null);\r\n  const ShadowRoot = createShadowRoot.div;\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      const root = shadowRef.current?.getRootNode?.();\r\n      if (root && root.host) {\r\n        setShadowRoot(root);\r\n      } else {\r\n        console.warn('[Not a ShadowRoot]', root);\r\n      }\r\n    }, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const el = shadowRef.current;\r\n    if (!el) return;\r\n\r\n    let startY = 0;\r\n    let focusTriggered = false;\r\n\r\n    const triggerSyntheticClick = () => {\r\n      const down = new PointerEvent('pointerdown', {\r\n        bubbles: true,\r\n        cancelable: true,\r\n        composed: true,\r\n        pointerType: 'touch',\r\n      });\r\n      el.dispatchEvent(down);\r\n      onFocusChange?.(true);\r\n      console.log('[Focus triggered in embedded app]');\r\n    };\r\n\r\n    const handleTouchStart = (e) => {\r\n      if (e.touches.length === 0) return;\r\n      startY = e.touches[0].clientY;\r\n      focusTriggered = false;\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n      if (focusTriggered || e.touches.length === 0) return;\r\n      const deltaY = e.touches[0].clientY - startY;\r\n\r\n      if (Math.abs(deltaY) > 1) {\r\n        el.scrollTop += 1;\r\n        triggerSyntheticClick();\r\n        focusTriggered = true;\r\n      }\r\n    };\r\n\r\n    if ('ontouchstart' in window) {\r\n      el.addEventListener('touchstart', handleTouchStart, { passive: true });\r\n      el.addEventListener('touchmove', handleTouchMove, { passive: true });\r\n    }\r\n\r\n    return () => {\r\n      el.removeEventListener('touchstart', handleTouchStart);\r\n      el.removeEventListener('touchmove', handleTouchMove);\r\n    };\r\n  }, [onFocusChange]);\r\n\r\n  return (\r\n    <div className=\"embedded-app\">\r\n      <ShadowRoot>\r\n        <div ref={shadowRef} className=\"dynamic-app\" id=\"shadow-dynamic-app\">\r\n          {shadowRoot ? (\r\n            <ShadowRootProvider getShadowRoot={() => shadowRoot}>\r\n              <DynamicTheme />\r\n            </ShadowRootProvider>\r\n          ) : null}\r\n        </div>\r\n      </ShadowRoot>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicAppInbound;\r\n","// src/dynamic-app/lib/observedCard.jsx\r\nimport React, { useRef } from 'react';\r\nimport UIcards from '../components/homepage-UIcards';\r\nimport useIntersectionTransform from './shadowObserver';\r\n\r\nfunction ObservedCard({\r\n  data,\r\n  index,\r\n  getShadowRoot,\r\n  pauseAnimation,\r\n  customArrowIcon2,\r\n}) {\r\n  const ref = useRef(null);\r\n\r\n  // The hook will accept whatever you pass — no TS constraint here\r\n  useIntersectionTransform(ref, getShadowRoot, pauseAnimation);\r\n\r\n  return (\r\n    <div ref={ref} className={`custom-card-${index}`}>\r\n      <UIcards\r\n        title={data.title}\r\n        backgroundColor={data.backgroundColor}\r\n        image1={data.image1}\r\n        image2={data.image2}\r\n        alt1={data.alt1}\r\n        alt2={data.alt2}\r\n        url1={data.url1}\r\n        className={`custom-card-${index}`}\r\n        customArrowIcon2={customArrowIcon2}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ObservedCard;\r\n","// useIntersectionTransform.ts\r\nimport { useEffect } from 'react';\r\n\r\nexport default function useIntersectionTransform(\r\n  ref: React.RefObject<HTMLElement>,\r\n  getShadowRoot: () => ShadowRoot | null,\r\n  pauseAnimation: boolean,\r\n  getScrollRoot?: () => Element | null  // 👈 NEW\r\n) {\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || pauseAnimation) return;\r\n\r\n    // Figure out where we live (shadow/dom) and what to use as IO root.\r\n    const shadow = getShadowRoot?.() ?? null;\r\n    const isInShadow = !!shadow;\r\n    const containerEl =\r\n      (typeof getScrollRoot === 'function' && getScrollRoot()) ||\r\n      // prefer your inner scroller if we can find it:\r\n      (isInShadow ? shadow.querySelector('.embedded-app') as Element | null : null) ||\r\n      null; // fallback = viewport\r\n\r\n    // (optional) gate transforms to when pointer is inside shadow host\r\n    let mouseInside = false;\r\n    const hostEl = isInShadow ? (shadow as ShadowRoot).host as HTMLElement : null;\r\n    const onEnter = () => (mouseInside = true);\r\n    const onLeave = () => (mouseInside = false);\r\n    if (hostEl) {\r\n      hostEl.addEventListener('pointerenter', onEnter);\r\n      hostEl.addEventListener('pointerleave', onLeave);\r\n    }\r\n\r\n    const cardEl = ref.current!;\r\n    const imageContainer  = cardEl.querySelector('.image-container')  as HTMLElement | null;\r\n    const imageContainer2 = cardEl.querySelector('.image-container2') as HTMLElement | null;\r\n    if (!imageContainer || !imageContainer2) return;\r\n\r\n    const applyTransform = (percentage: number) => {\r\n      const width =\r\n        containerEl instanceof Element\r\n          ? (containerEl as HTMLElement).clientWidth\r\n          : window.innerWidth;\r\n\r\n      let imageContainerTransform = 'translate(0em, 0em)';\r\n      let imageContainer2Transform = 'translate(1em, -28em)';\r\n      let imageContainerZIndex = '5';\r\n      let imageContainer2ZIndex = '1';\r\n\r\n      if (width <= 767) {\r\n        if (percentage > 0.35 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0.5em, 1em)';\r\n          imageContainer2Transform = 'translate(0.5em, -32.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.15 && percentage <= 0.35) {\r\n          imageContainerTransform = 'translate(1.5em, 0.5em)';\r\n          imageContainer2Transform = 'translate(-0.25em, -34.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.15) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -33.5em)';\r\n        }\r\n      } else if (width <= 1024) {\r\n        if (percentage >= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.3) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.1) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else if (width > 1025) {\r\n        if (percentage > 0.6 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -29.4em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.3 && percentage <= 0.6) {\r\n          imageContainerTransform = 'translate(1.2em, -0.8em)';\r\n          imageContainer2Transform = 'translate(0em, -28em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -28em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else {\r\n        if (percentage > 0.3 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n        }\r\n      }\r\n\r\n      imageContainer.style.transform = imageContainerTransform;\r\n      imageContainer.style.zIndex = imageContainerZIndex;\r\n      imageContainer2.style.transform = imageContainer2Transform;\r\n      imageContainer2.style.zIndex = imageContainer2ZIndex;\r\n    };\r\n\r\n    // IO now uses the scroll container as root (if available)\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (isInShadow && !mouseInside) return;\r\n\r\n        const rect = entry.boundingClientRect;\r\n\r\n        // use the container’s rect/height instead of window\r\n        const rootRect = containerEl\r\n          ? (containerEl as Element).getBoundingClientRect()\r\n          : document.documentElement.getBoundingClientRect();\r\n\r\n        const rootHeight =\r\n          containerEl instanceof Element\r\n            ? (containerEl as HTMLElement).clientHeight\r\n            : window.innerHeight;\r\n\r\n        const rootCenter = rootRect.top + rootHeight;\r\n\r\n        // replicate your old math but relative to the container center\r\n        const percentage = Math.max(\r\n          0,\r\n          Math.min(rect.height, rootCenter - rect.top)\r\n        ) / rect.height;\r\n\r\n        applyTransform(percentage);\r\n      },\r\n      {\r\n        root: containerEl || null, // ← critical change\r\n        threshold: Array.from({ length: 101 }, (_, i) => i / 100),\r\n      }\r\n    );\r\n\r\n    // initial position apply (also relative to container)\r\n    const rect = cardEl.getBoundingClientRect();\r\n    const rootRect = containerEl\r\n      ? (containerEl as Element).getBoundingClientRect()\r\n      : document.documentElement.getBoundingClientRect();\r\n    const rootHeight =\r\n      containerEl instanceof Element\r\n        ? (containerEl as HTMLElement).clientHeight\r\n        : window.innerHeight;\r\n    const rootCenter = rootRect.top + rootHeight / 1.5;\r\n    const initialPct = Math.max(0, Math.min(rect.height, rootCenter - rect.top)) / rect.height;\r\n    applyTransform(initialPct);\r\n\r\n    observer.observe(cardEl);\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n      if (hostEl) {\r\n        hostEl.removeEventListener('pointerenter', onEnter);\r\n        hostEl.removeEventListener('pointerleave', onLeave);\r\n      }\r\n    };\r\n  }, [ref, pauseAnimation, getShadowRoot, getScrollRoot]);\r\n}\r\n"],"names":["React","useState","useEffect","useCallback","useRef","Navigation","TitleDivider","SortBy","LoadingScreen","FireworksDisplay","PauseButton","Footer","fetchSVGIcons","ObservedCard","setupAltObserver","IntroOverlay","colorMapping","useShadowRoot","indexCss","miscCss","overlayCss","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DynamicTheme","sortedImages","setSortedImages","svgIcons","setSvgIcons","activeColor","setActiveColor","movingTextColors","setMovingTextColors","lastKnownColor","setLastKnownColor","isLoading","setIsLoading","pauseAnimation","setPauseAnimation","showNavigation","setShowNavigation","toggleFireworksRef","scrollContainerRef","shadowRef","showFireworks","setShowFireworks","getShadowRoot","injectStyle","forEach","timeout","setTimeout","clearTimeout","then","icons","iconMapping","reduce","acc","icon","title","observerRoot","root","document","current","length","handleActivate","handleDeactivate","handleSetToggleFireworks","toggleFunction","handlePauseToggle","isEnabled","alt1","colors","observer","ResizeObserver","console","log","getBoundingClientRect","observe","disconnect","container","querySelector","warn","IntersectionObserver","entry","isVisible","isIntersecting","prev","threshold","cardRefs","map","_","i","createRef","children","isFullScreen","className","ref","customArrowIcon2","customArrowIcon","items","isInShadow","scrollLockContainer","onToggleFireworks","svgIcon","id","toggleP5Animation","setSortOption","onFetchItems","getRoot","data","index","linkArrowIcon","createShadowRoot","ShadowRootProvider","DynamicAppInbound","onFocusChange","shadowRoot","setShadowRoot","ShadowRoot","div","getRootNode","host","el","startY","focusTriggered","triggerSyntheticClick","down","PointerEvent","bubbles","cancelable","composed","pointerType","dispatchEvent","handleTouchStart","e","touches","clientY","handleTouchMove","deltaY","Math","abs","scrollTop","window","addEventListener","passive","removeEventListener","UIcards","useIntersectionTransform","backgroundColor","image1","image2","alt2","url1","getScrollRoot","shadow","containerEl","mouseInside","hostEl","onEnter","onLeave","cardEl","imageContainer","imageContainer2","applyTransform","percentage","width","Element","clientWidth","innerWidth","imageContainerTransform","imageContainer2Transform","imageContainerZIndex","imageContainer2ZIndex","style","transform","zIndex","rect","boundingClientRect","rootRect","documentElement","rootHeight","clientHeight","innerHeight","rootCenter","top","max","min","height","Array","from","initialPct"],"sourceRoot":""}