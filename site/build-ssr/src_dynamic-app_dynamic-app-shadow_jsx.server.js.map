{"version":3,"file":"src_dynamic-app_dynamic-app-shadow_jsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/dynamic-app/components/IntroOverlay.jsx","webpack://personal-site/./src/dynamic-app/components/footer.jsx","webpack://personal-site/./src/dynamic-app/components/homepage-UIcards.jsx","webpack://personal-site/./src/dynamic-app/components/navigation.jsx","webpack://personal-site/./src/dynamic-app/components/sortBy.jsx","webpack://personal-site/./src/dynamic-app/components/title.jsx","webpack://personal-site/./src/dynamic-app/dynamic-app-outgoing.jsx","webpack://personal-site/./src/dynamic-app/dynamic-app-shadow.jsx","webpack://personal-site/./src/dynamic-app/lib/colorString.ts","webpack://personal-site/./src/dynamic-app/lib/fetchGallery.js","webpack://personal-site/./src/dynamic-app/lib/observedCard.jsx","webpack://personal-site/./src/dynamic-app/lib/palette-controller.ts","webpack://personal-site/./src/dynamic-app/lib/setupAltObserver.js","webpack://personal-site/./src/dynamic-app/lib/shadowObserver.ts","webpack://personal-site/./src/styles/dynamic-app/UIcards.css","webpack://personal-site/./src/styles/dynamic-app/index.css","webpack://personal-site/./src/styles/dynamic-app/sortByStyles.css","webpack://personal-site/./src/styles/loading-overlay.css?bcbc","webpack://personal-site/./src/utils/context-providers/shadow-root-context.tsx","webpack://personal-site/./src/utils/context-providers/style-injector.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst RedIntroOverlay = () => {\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setVisible(false), 500);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100vw',\r\n        height: '100vh',\r\n        backgroundColor: '#1e1e1f',\r\n        opacity: visible ? 1 : 0,\r\n        pointerEvents: 'none',\r\n        transition: 'opacity 0.4s ease',\r\n        zIndex: 9999,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RedIntroOverlay;\r\n","import { Link } from 'react-router-dom';\r\n\r\nconst Footer = ({ customArrowIcon2, linkArrowIcon }) => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer-links\">\r\n        <div className=\"nav-item\">\r\n          <div className=\"nav-link-2\" role=\"button\" tabIndex={0}>\r\n            <div className=\"name\">\r\n              <h4>What is DMI?</h4>\r\n            </div>\r\n            {customArrowIcon2 && (\r\n              <div\r\n                className=\"arrow3\"\r\n                dangerouslySetInnerHTML={{ __html: customArrowIcon2 }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"nav-item\">\r\n          <div className=\"nav-link-2\" role=\"button\" tabIndex={0}>\r\n            <h4>Case Studies</h4>\r\n            {customArrowIcon2 && (\r\n              <div\r\n                className=\"arrow3\"\r\n                dangerouslySetInnerHTML={{ __html: customArrowIcon2 }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer-info\">\r\n        <div className=\"nav-item\">\r\n          <a\r\n            href=\"https://www.linkedin.com/in/efe-ozalp/\" // Replace with your portfolio link\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"nav-link-2\"\r\n          >\r\n            <h4>UI/UX & Development by Efe Ozalp</h4>\r\n            {linkArrowIcon && (\r\n              <div\r\n                id=\"link-arrow\"\r\n                className=\"arrow3\"\r\n                dangerouslySetInnerHTML={{ __html: linkArrowIcon }}\r\n              />\r\n            )}\r\n          </a>\r\n        </div>\r\n        <div className=\"nav-item\">\r\n          <a\r\n            href=\"https://www.instagram.com/yxuart/\" // Replace with the illustrator's profile link\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"nav-link-2\"\r\n          >\r\n            <h4>Illustrations by Yiner Xu @yxuart</h4>\r\n            {linkArrowIcon && (\r\n              <div\r\n                id=\"link-arrow\"\r\n                className=\"arrow3\"\r\n                dangerouslySetInnerHTML={{ __html: linkArrowIcon }}\r\n              />\r\n            )}\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","// src/dynamic-app/components/homepage-UIcards.jsx\r\nimport React from 'react';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport { useStyleInjection } from '../../utils/context-providers/style-injector';\r\nimport uiCardsCss from '../../styles/dynamic-app/UIcards.css?raw';\r\n\r\nconst UIcards = React.forwardRef(function UIcards(\r\n  { title, image1, image2, alt1, alt2, url1, className = '', customArrowIcon2 },\r\n  ref\r\n) {\r\n  useStyleInjection(uiCardsCss, 'dynamic-ui-card-style');\r\n\r\n  return (\r\n    <div ref={ref} className={`card-container ${className}`}>\r\n      <div className={`image-container ${className}`}>\r\n        <a href={url1} className={`ui-link ${className}`}>\r\n          <MediaLoader type=\"image\" src={image2} alt={alt1} className={`ui-image1 ${className}`} priority />\r\n        </a>\r\n      </div>\r\n\r\n      <div className={`image-container2 ${className}-2`}>\r\n        <a href={url1} className={`ui-link-3 ${className}`}>\r\n          <MediaLoader type=\"image\" src={image1} alt={alt2} className={`ui-image2 ${className}-2`} priority />\r\n        </a>\r\n\r\n        <h-name className={`image-title ${className}`}>\r\n          <a href={url1} className={`ui-link-2 ${className}`}>\r\n            <span className=\"title-text\">{title}</span>\r\n            {customArrowIcon2 && (\r\n              <div className=\"svg-icon\" dangerouslySetInnerHTML={{ __html: customArrowIcon2 }} />\r\n            )}\r\n          </a>\r\n        </h-name>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nUIcards.displayName = 'UIcards';\r\nexport default UIcards;\r\n","import React, { useState, useEffect } from 'react';\r\nimport fetchGallery from '../lib/fetchGallery';\r\nimport { useStyleInjection } from '../../utils/context-providers/style-injector.ts'; \r\nimport navCss from '../../styles/dynamic-app/navigation.css?raw';\r\n\r\nconst Navigation = ({ activeColor, customArrowIcon, customArrowIcon2, isInShadow = false }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [lastScrollY, setLastScrollY] = useState(0);\r\n  const [isScrollingUp, setIsScrollingUp] = useState(true);\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [galleryImages, setGalleryImages] = useState([]);\r\n  const [showScrollHint, setShowScrollHint] = useState(false);\r\n  const [hasShownScrollHint, setHasShownScrollHint] = useState(false);\r\n\r\n  useStyleInjection(navCss, 'dynamic-app-style-nav');\r\n\r\n  const toggleMenu = () => {\r\n    if (isInShadow) return; // no nav in shadow mock\r\n    setIsOpen((prev) => !prev);\r\n  };\r\n  const handleCloseMenu = () => setIsOpen(false);\r\n\r\n  const handleScroll = () => {\r\n    const currentScrollY = window.scrollY;\r\n\r\n    // Always visible if near the top\r\n    if (currentScrollY <= 5) {\r\n      setIsScrollingUp(true);\r\n    } else {\r\n      setIsScrollingUp(currentScrollY < lastScrollY);\r\n    }\r\n\r\n    setIsScrolled(currentScrollY > window.innerHeight * 0.1);\r\n    setLastScrollY(currentScrollY);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [lastScrollY]);\r\n\r\n  useEffect(() => {\r\n    document.body.classList.toggle('no-scroll', isOpen);\r\n    return () => document.body.classList.remove('no-scroll');\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      try {\r\n        const images = await fetchGallery();\r\n        setGalleryImages(images);\r\n      } catch (error) {\r\n        console.error('Error fetching gallery images:', error);\r\n      }\r\n    };\r\n    fetchImages();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth > 1024) {\r\n      const galleryContainer = document.querySelector('.image-container-g');\r\n      const handleHorizontalScroll = (e) => {\r\n        if (galleryContainer) {\r\n          e.preventDefault();\r\n          galleryContainer.scrollLeft += e.deltaY;\r\n        }\r\n      };\r\n      if (galleryContainer) {\r\n        galleryContainer.addEventListener('wheel', handleHorizontalScroll);\r\n      }\r\n      return () => {\r\n        if (galleryContainer) {\r\n          galleryContainer.removeEventListener('wheel', handleHorizontalScroll);\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const gallery = document.querySelector('.image-container-g');\r\n    const scrollIndicator = document.querySelector('.scroll-indicator');\r\n\r\n    if (!gallery || !scrollIndicator) return;\r\n\r\n    const updateScrollIndicator = () => {\r\n      if (window.innerWidth > 1024) {\r\n        const scrollWidth = gallery.scrollWidth - gallery.clientWidth;\r\n        const scrollLeft = gallery.scrollLeft;\r\n        const percentage = scrollWidth > 0 ? Math.max(2, (scrollLeft / scrollWidth) * 100) : 2;\r\n        scrollIndicator.style.setProperty('--progress-dimension', `${percentage}%`);\r\n      } else {\r\n        const scrollHeight = gallery.scrollHeight - gallery.clientHeight;\r\n        const scrollTop = gallery.scrollTop;\r\n        if (scrollHeight > 0) {\r\n          const normalPercentage = 100 - (scrollTop / scrollHeight) * 100;\r\n          const reversedPercentage = Math.min(100, Math.max(2, 100 - normalPercentage));\r\n          scrollIndicator.style.setProperty('--progress-dimension', `${reversedPercentage}%`);\r\n        } else {\r\n          scrollIndicator.style.setProperty('--progress-dimension', '2%');\r\n        }\r\n      }\r\n    };\r\n\r\n    updateScrollIndicator();\r\n    gallery.addEventListener('scroll', updateScrollIndicator);\r\n\r\n    return () => {\r\n      gallery.removeEventListener('scroll', updateScrollIndicator);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !hasShownScrollHint) {\r\n      setShowScrollHint(true);\r\n      const fadeOutTimeout = setTimeout(() => {\r\n        const hintElement = document.querySelector('.scroll-hint');\r\n        if (hintElement) hintElement.style.opacity = '0';\r\n      }, 3000);\r\n      const removeTimeout = setTimeout(() => {\r\n        setShowScrollHint(false);\r\n        setHasShownScrollHint(true);\r\n      }, 4000);\r\n\r\n      return () => {\r\n        clearTimeout(fadeOutTimeout);\r\n        clearTimeout(removeTimeout);\r\n      };\r\n    }\r\n  }, [isOpen, hasShownScrollHint]);\r\n\r\n  const hexToRgba = (hex, alpha = 0.1) => {\r\n    const r = parseInt(hex.slice(1, 3), 16);\r\n    const g = parseInt(hex.slice(3, 5), 16);\r\n    const b = parseInt(hex.slice(5, 7), 16);\r\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\r\n  };\r\n\r\n  const adjustBrightness = (hex, multiplier) => {\r\n    let r = parseInt(hex.slice(1, 3), 16);\r\n    let g = parseInt(hex.slice(3, 5), 16);\r\n    let b = parseInt(hex.slice(5, 7), 16);\r\n    r = Math.min(255, Math.max(0, Math.floor(r * multiplier)));\r\n    g = Math.min(255, Math.max(0, Math.floor(g * multiplier)));\r\n    b = Math.min(255, Math.max(0, Math.floor(b * multiplier)));\r\n    return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;\r\n  };\r\n\r\n  const darkenedColor = adjustBrightness(activeColor, 0.55);\r\n  const edgeColor = adjustBrightness(activeColor, 0.8);\r\n\r\n  return (\r\n   <nav className={`navigation ${isScrollingUp ? 'visible' : 'hidden'} ${isInShadow ? 'navigation--shadow' : ''}`}>\r\n      <div\r\n        className={`top-bar-items ${isOpen ? 'menu-open' : ''}`}\r\n        style={{\r\n          background: isOpen\r\n            ? 'transparent'\r\n            : isScrolled\r\n            ? hexToRgba(activeColor, 0.8)\r\n            : 'transparent',\r\n          backdropFilter: isScrolled && !isOpen ? 'blur(5px)' : 'none',\r\n        }}\r\n      >\r\n        <div className=\"site-title\">\r\n          <h-title className=\"title\">\r\n            <a href=\"/\" className=\"homepage-link\">DMI</a>\r\n          </h-title>\r\n        </div>\r\n        <div className=\"menu-icon\" onClick={toggleMenu}>\r\n          <div className={`hamburger ${isOpen ? 'open' : ''}`}></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={`menu-item ${isOpen ? 'open' : ''}`}>\r\n        <div className=\"menu-item-1\" onClick={handleCloseMenu}></div>\r\n        <div className=\"menu-item-2\" style={{ '--darkenedColor': darkenedColor, '--darkerColor': edgeColor }}>\r\n          <div className=\"menu-nav\">\r\n            <div className=\"nav-item\">\r\n              <a href=\"/dynamic-theme\" className=\"nav-link\">\r\n                <div className=\"name\"><h4>What is DMI?</h4></div>\r\n                {customArrowIcon2 && (\r\n                  <div className=\"arrow1\" dangerouslySetInnerHTML={{ __html: customArrowIcon2 }} />\r\n                )}\r\n              </a>\r\n            </div>\r\n            <div className=\"nav-item\">\r\n              <a href=\"/dynamic-theme\" className=\"nav-link\">\r\n                <h4>Case Studies</h4>\r\n                {customArrowIcon2 && (\r\n                  <div className=\"arrow1\" dangerouslySetInnerHTML={{ __html: customArrowIcon2 }} />\r\n                )}\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"gallery-wrapper\">\r\n            <div className=\"scroll-indicator\"></div>\r\n            <div className=\"gallery-container\">\r\n              {showScrollHint && (\r\n                <div className=\"scroll-hint\">\r\n                  <h5>Scroll to explore</h5>\r\n                  <span\r\n                    className=\"arrow2\"\r\n                    dangerouslySetInnerHTML={{ __html: customArrowIcon }}\r\n                  ></span>\r\n                </div>\r\n              )}\r\n              <div className=\"image-container-g\">\r\n                {galleryImages.map((img, index) => (\r\n                  <img\r\n                    key={index}\r\n                    src={img.url}\r\n                    alt={img.alt}\r\n                    draggable=\"false\"\r\n                    className={`gallery-image image-${index}`}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useState, useRef, useEffect, useMemo } from 'react';\r\n// pull from preloader (images only)\r\nimport { getPreloadedDynamicApp, ensureImagesPreload } from '../preload-dynamic-app';\r\nimport { useStyleInjection } from '../../utils/context-providers/style-injector';\r\nimport sortByCss from '../../styles/dynamic-app/sortByStyles.css?raw';\r\n\r\nconst options = [\r\n  { value: 'random',   label: 'Randomized' },\r\n  { value: 'titleAsc', label: 'A to Z' },\r\n  { value: 'titleDesc',label: 'Z to A' },\r\n];\r\n\r\nconst shuffleArray = (arr) => {\r\n  const a = [...arr];\r\n  for (let i = a.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [a[i], a[j]] = [a[j], a[i]];\r\n  }\r\n  return a;\r\n};\r\n\r\nfunction localSort(data, mode) {\r\n  if (!Array.isArray(data)) return [];\r\n  switch (mode) {\r\n    case 'titleAsc':\r\n      return [...data].sort((a, b) => (a?.title || '').localeCompare(b?.title || ''));\r\n    case 'titleDesc':\r\n      return [...data].sort((a, b) => (b?.title || '').localeCompare(a?.title || ''));\r\n    case 'random':\r\n    default:\r\n      return shuffleArray(data);\r\n  }\r\n}\r\n\r\nfunction SortBy({\r\n  onFetchItems,\r\n  customArrowIcon,\r\n  colorMapping,\r\n  getRoot = () => document,\r\n}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedValue, setSelectedValue] = useState('random');\r\n\r\n  // Base dataset from preload\r\n  const [baseItems, setBaseItems] = useState([]);\r\n  // Derived list shown in UI\r\n  const [items, setItems] = useState([]);\r\n\r\n  const dropdownRef = useRef(null);\r\n\r\n  // inject CSS into shadow root (or document)\r\n  useStyleInjection(sortByCss, 'dynamic-app-style-sortby');\r\n\r\n  const handleOptionClick = (value) => {\r\n    setSelectedValue(value);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleClickOutside = (e) => {\r\n    const root = typeof getRoot === 'function' ? getRoot() : document;\r\n    const pauseButton = root.querySelector?.('.lottie-container');\r\n    const target = e.target;\r\n    if (\r\n      dropdownRef.current &&\r\n      target &&\r\n      !dropdownRef.current.contains(target) &&\r\n      (!pauseButton || !pauseButton.contains(target))\r\n    ) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  // click-outside listener bound to the same root as the UI\r\n  useEffect(() => {\r\n    const root = typeof getRoot === 'function' ? getRoot() : document;\r\n    root.addEventListener?.('mousedown', handleClickOutside);\r\n    return () => root.removeEventListener?.('mousedown', handleClickOutside);\r\n  }, [getRoot]);\r\n\r\n  // 1) Get images from preload cache (or ensure preload if empty)\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    const cached = getPreloadedDynamicApp();\r\n\r\n    if (cached.images?.length) {\r\n      if (!cancelled) setBaseItems(cached.images);\r\n    } else {\r\n      ensureImagesPreload()\r\n        .then((images) => { if (!cancelled) setBaseItems(images || []); })\r\n        .catch(() => { if (!cancelled) setBaseItems([]); });\r\n    }\r\n\r\n    return () => { cancelled = true; };\r\n  }, []);\r\n\r\n  // 2) Derive items whenever base or sort option changes (no network here)\r\n  useEffect(() => {\r\n    const derived = localSort(baseItems, selectedValue);\r\n    setItems(derived);\r\n    onFetchItems?.(derived);\r\n  }, [baseItems, selectedValue, onFetchItems]);\r\n\r\n  // Responsive index logic for color sampling\r\n  const [screenWidth, setScreenWidth] = useState(\r\n    typeof window !== 'undefined' ? window.innerWidth : 1200\r\n  );\r\n  useEffect(() => {\r\n    const onResize = () => setScreenWidth(window.innerWidth);\r\n    window.addEventListener('resize', onResize);\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, []);\r\n  const itemIndex = screenWidth >= 1025 ? 2 : screenWidth >= 768 ? 1 : 0;\r\n\r\n  const convertHexToRGBA = (hex, alpha) => {\r\n    const h = (hex || '#ffffff').replace('#', '');\r\n    const r = parseInt(h.slice(0, 2) || 'ff', 16);\r\n    const g = parseInt(h.slice(2, 4) || 'ff', 16);\r\n    const b = parseInt(h.slice(4, 6) || 'ff', 16);\r\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\r\n  };\r\n\r\n  const borderItemColor = useMemo(() => {\r\n    const alt = items[itemIndex]?.alt1;\r\n    const color = Array.isArray(colorMapping?.[alt]) ? colorMapping[alt][2] : '#ffffff';\r\n    return convertHexToRGBA(color, 0.8);\r\n  }, [items, colorMapping, itemIndex]);\r\n\r\n  const boxShadowItemColor = useMemo(() => {\r\n    const alt = items[itemIndex]?.alt1;\r\n    return Array.isArray(colorMapping?.[alt]) ? colorMapping[alt][3] : '#ffffff';\r\n  }, [items, colorMapping, itemIndex]);\r\n\r\n  return (\r\n    <div className=\"sort-by-container\">\r\n      <div className=\"sort-container\"><p>Sort by:</p></div>\r\n      <div className=\"sort-container2\">\r\n        <div\r\n          className=\"custom-dropdown\"\r\n          ref={dropdownRef}\r\n          style={{\r\n            border: `solid 1.6px ${borderItemColor}`,\r\n            boxShadow: `0 1px 8px rgba(0,0,0,0.1), 0 22px 8px rgba(0,0,0,0.08), 12px 12px ${boxShadowItemColor}`,\r\n          }}\r\n        >\r\n          <div className=\"custom-select\" onClick={() => setIsOpen(!isOpen)}>\r\n            <div className=\"selected-value\">\r\n              <h5>{options.find(opt => opt.value === selectedValue)?.label}</h5>\r\n            </div>\r\n            <span className={`custom-arrow ${isOpen ? 'open' : ''}`}>\r\n              {customArrowIcon && <div dangerouslySetInnerHTML={{ __html: customArrowIcon }} />}\r\n            </span>\r\n          </div>\r\n\r\n          {isOpen && (\r\n            <div\r\n              className=\"options-container\"\r\n              style={{ border: `solid 1.6px ${borderItemColor}`, borderTop: 'none' }}\r\n            >\r\n              {options.map((option) => (\r\n                <div\r\n                  key={option.value}\r\n                  className={`option ${option.value === selectedValue ? 'selected' : ''}`}\r\n                  onClick={() => handleOptionClick(option.value)}\r\n                >\r\n                  {option.label}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SortBy;\r\n","// TitleDivider component (no flicker on enter/leave)\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useStyleInjection } from '../../utils/context-providers/style-injector.ts';\r\nimport titleCss from '../../styles/dynamic-app/title.css?raw';\r\n\r\nconst isTriplet = (v) => Array.isArray(v) && v.length === 3 && v.every(x => typeof x === 'string');\r\n\r\nconst TitleDivider = ({ svgIcon, movingTextColors, pauseAnimation }) => {\r\n  useStyleInjection(titleCss, 'dynamic-app-style-title');\r\n\r\n  // ----- visibility of this component -----\r\n  const rootRef = useRef(null);\r\n  const [isVisible, setIsVisible] = useState(true);\r\n  useEffect(() => {\r\n    const el = rootRef.current;\r\n    if (!el || typeof IntersectionObserver === 'undefined') return;\r\n    const io = new IntersectionObserver(\r\n      ([entry]) => setIsVisible(!!entry.isIntersecting),\r\n      { threshold: 0.01 }\r\n    );\r\n    io.observe(el);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  // ----- stable palette that only changes when visible -----\r\n  const defaultTriplet = ['#70c6b0', '#5670b5', '#50b0c5'];\r\n  const incoming = isTriplet(movingTextColors) ? movingTextColors : defaultTriplet;\r\n\r\n  const [stableColors, setStableColors] = useState(incoming);\r\n  const pendingRef = useRef(null);\r\n\r\n  // shallow compare helper\r\n  const sameTriplet = (a, b) => a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\r\n\r\n  // When palette prop changes: apply immediately if visible, else stash it.\r\n  useEffect(() => {\r\n    if (!isTriplet(incoming)) return;\r\n    if (isVisible) {\r\n      setStableColors(prev => (sameTriplet(prev, incoming) ? prev : incoming));\r\n      pendingRef.current = null;\r\n    } else {\r\n      // hold for later to avoid flicker while hidden\r\n      pendingRef.current = incoming;\r\n    }\r\n  }, [incoming, isVisible]);\r\n\r\n  // When we become visible, commit any pending palette once.\r\n  useEffect(() => {\r\n    if (isVisible && pendingRef.current && !sameTriplet(stableColors, pendingRef.current)) {\r\n      setStableColors(pendingRef.current);\r\n      pendingRef.current = null;\r\n    }\r\n  }, [isVisible, stableColors]);\r\n\r\n  // ----- brightness adjust + smooth transition -----\r\n  const adjustBrightness = (hex, mul) => {\r\n    if (!/^#[0-9a-f]{6}$/i.test(hex)) return hex;\r\n    let r = parseInt(hex.slice(1, 3), 16);\r\n    let g = parseInt(hex.slice(3, 5), 16);\r\n    let b = parseInt(hex.slice(5, 7), 16);\r\n    r = Math.min(255, Math.max(0, Math.floor(r * mul)));\r\n    g = Math.min(255, Math.max(0, Math.floor(g * mul)));\r\n    b = Math.min(255, Math.max(0, Math.floor(b * mul)));\r\n    return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;\r\n  };\r\n\r\n  const colors = useMemo(() => ([\r\n    adjustBrightness(stableColors[0], 1.05),\r\n    adjustBrightness(stableColors[1], 1.25),\r\n    adjustBrightness(stableColors[2], 1.10),\r\n  ]), [stableColors]);\r\n\r\n  const textSegments = useMemo(() => ([\r\n    { text: 'Institute Gallery', suffix: '' },\r\n    { text: 'Dyna', suffix: 'mic Media' },\r\n    { text: 'Dyn', suffix: 'mic Media' },\r\n  ]), []);\r\n\r\n  const renderMovingContent = (repeatCount = 2) =>\r\n    [...Array(repeatCount)].flatMap((_, repeatIndex) =>\r\n      textSegments.map((segment, i) => (\r\n        <span\r\n          key={`${repeatIndex}-${i}`}\r\n          className=\"moving-text\"\r\n          style={{\r\n            color: colors[i],\r\n            transition: 'color 120ms linear',\r\n          }}\r\n        >\r\n          {segment.text}\r\n          <span className=\"logo-container\">\r\n            <span\r\n              className=\"svg-icon\"\r\n              // If your injected SVG respects currentColor, you could instead set color here.\r\n              style={{ fill: colors[i], transition: 'fill 120ms linear' }}\r\n              dangerouslySetInnerHTML={{ __html: svgIcon }}\r\n            />\r\n          </span>\r\n          {segment.suffix}\r\n        </span>\r\n      ))\r\n    );\r\n\r\n  return (\r\n    <div className=\"title-container\" ref={rootRef}>\r\n      <div className=\"static-title\">\r\n        <h1>MassArt 2024</h1>\r\n      </div>\r\n      <div className={`moving-title ${pauseAnimation ? 'paused' : ''}`}>\r\n        <h1 className=\"title-with-icon moving-text-wrapper\">\r\n          {renderMovingContent()}\r\n        </h1>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TitleDivider;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport Navigation from './components/navigation';\r\nimport TitleDivider from './components/title';\r\nimport SortBy from './components/sortBy';\r\nimport FireworksDisplay from './components/fireworksDisplay';\r\nimport PauseButton from './components/pauseButton';\r\nimport Footer from './components/footer';\r\nimport ObservedCard from './lib/observedCard.jsx';\r\nimport setupAltObserver from './lib/setupAltObserver';\r\nimport IntroOverlay from './components/IntroOverlay';\r\nimport { colorMapping } from './lib/colorString';\r\nimport { useShadowRoot } from '../utils/context-providers/shadow-root-context';\r\nimport indexCss from '../styles/dynamic-app/index.css?raw';\r\nimport miscCss from '../styles/dynamic-app/misc.css?raw';\r\nimport overlayCss from '../styles/loading-overlay.css?raw';\r\n\r\n// shared preloader (no TS types in this file)\r\nimport {\r\n  getPreloadedDynamicApp,\r\n  whenDynamicPreloadReady,\r\n  ensureDynamicPreload,\r\n} from './preload-dynamic-app';\r\n\r\n// 🔸 single source of truth for palette semantics\r\nimport { resolvePalette, computeStateFromPalette } from './lib/palette-controller';\r\n\r\nfunction DynamicTheme({ onReady }) {\r\n  const [sortedImages, setSortedImages] = useState([]);\r\n  const [svgIcons, setSvgIcons] = useState({});\r\n  const [activeColor, setActiveColor] = useState('#FFFFFF');\r\n  const [movingTextColors, setMovingTextColors] = useState(['#FFFFFF', '#FFFFFF', '#FFFFFF']);\r\n  const [lastKnownColor, setLastKnownColor] = useState('#FFFFFF');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pauseAnimation, setPauseAnimation] = useState(false);\r\n  const [showNavigation, setShowNavigation] = useState(false);\r\n\r\n  const toggleFireworksRef = useRef(null);\r\n  const scrollContainerRef = useRef(null);\r\n  const shadowRef = useRef(null);\r\n\r\n  const [showFireworks, setShowFireworks] = useState(true);\r\n  const [isHostVisible, setIsHostVisible] = useState(false);\r\n  const hostVisibleRef = useRef(false);\r\n\r\n  const { getShadowRoot, injectStyle } = useShadowRoot();\r\n\r\n  useEffect(() => {\r\n    [indexCss, miscCss, overlayCss].forEach(injectStyle);\r\n  }, [injectStyle]);\r\n\r\n  // signal ready on first paint (wrapper de-dupes)\r\n  useEffect(() => {\r\n    const id = requestAnimationFrame(() => { try { onReady?.(); } catch {} });\r\n    return () => cancelAnimationFrame(id);\r\n  }, [onReady]);\r\n\r\n  // Prime from cache, then wait for preload (deduped)\r\n  useEffect(() => {\r\n    const snap = getPreloadedDynamicApp();\r\n    if (snap.icons) setSvgIcons(snap.icons);\r\n    if (Array.isArray(snap.images)) setSortedImages(snap.images);\r\n\r\n    let cancelled = false;\r\n    ensureDynamicPreload()\r\n      .catch(() => whenDynamicPreloadReady())\r\n      .then((cache) => {\r\n        if (cancelled || !cache) return;\r\n        if (cache.icons) setSvgIcons(cache.icons);\r\n        if (Array.isArray(cache.images)) setSortedImages(cache.images);\r\n        setIsLoading(false);\r\n        setShowNavigation(true);\r\n      })\r\n      .catch(() => {\r\n        if (!cancelled) setIsLoading(false);\r\n      });\r\n\r\n    return () => { cancelled = true; };\r\n  }, []);\r\n\r\n  const observerRoot = useRef(null);\r\n  useEffect(() => {\r\n    const root = typeof getShadowRoot === 'function' ? getShadowRoot() : document;\r\n    observerRoot.current = root;\r\n  }, [getShadowRoot]);\r\n\r\n  // 🔹 Activation now uses the shared palette-controller\r\n  const handleActivate = useCallback((alt1) => {\r\n    // resolve a quartet [c0, c1, c2, c3] for this alt\r\n    const quartet = resolvePalette(alt1, colorMapping);\r\n    if (!Array.isArray(quartet) || quartet.length < 4) return;\r\n\r\n    // compute state (activeColor, title triplet, lastKnown)\r\n    const { activeColor: nextActive, movingText: nextTriplet, lastKnown } =\r\n      computeStateFromPalette(quartet);\r\n\r\n    // minimize state churn\r\n    if (nextActive !== activeColor) {\r\n      setActiveColor(nextActive);\r\n      setLastKnownColor(lastKnown ?? nextActive);\r\n    }\r\n    // nextTriplet is a [c0, c1, c3] triplet per controller semantics\r\n    setMovingTextColors(nextTriplet);\r\n  }, [activeColor]);\r\n\r\n  const handleDeactivate = useCallback(() => {\r\n    if (activeColor !== lastKnownColor) setActiveColor(lastKnownColor);\r\n  }, [activeColor, lastKnownColor]);\r\n\r\n  const currentAltRef = useRef(null);\r\n  useEffect(() => {\r\n    if (isLoading || sortedImages.length === 0) return;\r\n    const root = observerRoot.current;\r\n    if (!root) return;\r\n\r\n    const guardedActivate = (alt1) => {\r\n      if (!hostVisibleRef.current) return;\r\n      if (currentAltRef.current === alt1) return;\r\n      currentAltRef.current = alt1;\r\n      handleActivate(alt1);\r\n    };\r\n\r\n    const guardedDeactivate = (alt1) => {\r\n      if (!hostVisibleRef.current) return;\r\n      if (currentAltRef.current !== alt1) return;\r\n      handleDeactivate(alt1);\r\n    };\r\n\r\n    const cleanup = setupAltObserver(guardedActivate, guardedDeactivate, root);\r\n    return typeof cleanup === 'function' ? cleanup : undefined;\r\n  }, [isLoading, sortedImages, handleActivate, handleDeactivate]);\r\n\r\n  const handleSetToggleFireworks = useCallback((fn) => {\r\n    toggleFireworksRef.current = fn;\r\n  }, []);\r\n\r\n  const handlePauseToggle = useCallback((isEnabled) => {\r\n    if (toggleFireworksRef.current) toggleFireworksRef.current(isEnabled);\r\n    setPauseAnimation(!isEnabled);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!shadowRef.current) return;\r\n    const ro = new ResizeObserver(() => {\r\n      // optional diagnostics\r\n      // console.log('[Resize observed]', shadowRef.current?.getBoundingClientRect());\r\n    });\r\n    ro.observe(shadowRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('#block-dynamic');\r\n    if (!container) {\r\n      console.warn('[FireworkObserver] #block-dynamic not found in DOM');\r\n      return;\r\n    }\r\n\r\n    const io = new IntersectionObserver(\r\n      ([entry]) => {\r\n        const visible = !!entry.isIntersecting;\r\n        hostVisibleRef.current = visible;\r\n        setIsHostVisible(visible);\r\n\r\n        const desired = visible && !pauseAnimation;\r\n        setShowFireworks((prev) => (prev !== desired ? desired : prev));\r\n        if (toggleFireworksRef.current) toggleFireworksRef.current(desired);\r\n      },\r\n      { threshold: 0.3 }\r\n    );\r\n\r\n    io.observe(container);\r\n\r\n    // prime immediately\r\n    const rect = container.getBoundingClientRect();\r\n    const visibleNow = rect.top < window.innerHeight && rect.bottom > 0;\r\n    hostVisibleRef.current = visibleNow;\r\n    setIsHostVisible(visibleNow);\r\n\r\n    const initialDesired = visibleNow && !pauseAnimation;\r\n    setShowFireworks((prev) => (prev !== initialDesired ? initialDesired : prev));\r\n    if (toggleFireworksRef.current) toggleFireworksRef.current(initialDesired);\r\n\r\n    return () => io.disconnect();\r\n  }, [pauseAnimation]);\r\n\r\n  useEffect(() => {\r\n    if (toggleFireworksRef.current) {\r\n      toggleFireworksRef.current(!pauseAnimation && isHostVisible);\r\n    }\r\n  }, [pauseAnimation, isHostVisible]);\r\n\r\n  const cardRefs = useRef([]);\r\n  cardRefs.current = sortedImages.map((_, i) => cardRefs.current[i] ?? React.createRef());\r\n\r\n  return (\r\n    <div className=\"homePage-container\" ref={scrollContainerRef} aria-busy={isLoading ? 'true' : 'false'}>\r\n      <IntroOverlay />\r\n\r\n      <div className=\"navigation-wrapper\">\r\n        {showNavigation && (\r\n          <Navigation\r\n            customArrowIcon2={svgIcons['arrow1']}\r\n            customArrowIcon={svgIcons['arrow2']}\r\n            items={sortedImages}\r\n            activeColor={activeColor}\r\n            isInShadow={typeof getShadowRoot === 'function' && getShadowRoot() !== document}\r\n            scrollLockContainer={scrollContainerRef.current}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"firework-wrapper\">\r\n        <div className=\"firework-divider\">\r\n          {showFireworks && (\r\n            <FireworksDisplay\r\n              colorMapping={colorMapping}\r\n              items={sortedImages}\r\n              activeColor={activeColor}\r\n              lastKnownColor={lastKnownColor}\r\n              onToggleFireworks={handleSetToggleFireworks}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"section-divider\"></div>\r\n\r\n      <div className=\"title-divider\">\r\n        <TitleDivider\r\n          svgIcon={svgIcons['logo-small-1']}\r\n          movingTextColors={movingTextColors}\r\n          pauseAnimation={pauseAnimation}\r\n        />\r\n      </div>\r\n\r\n      <div id=\"homePage\">\r\n        <div className=\"no-overflow\">\r\n          <div className=\"pause-button-wrapper\">\r\n            <PauseButton toggleP5Animation={handlePauseToggle} />\r\n          </div>\r\n\r\n          <div className=\"sort-by-divider\">\r\n            <h3 className=\"students-heading\">Students</h3>\r\n            <SortBy\r\n              setSortOption={() => {}}\r\n              onFetchItems={setSortedImages}\r\n              customArrowIcon={svgIcons['arrow2']}\r\n              colorMapping={colorMapping}\r\n              getRoot={getShadowRoot}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"section-divider2\"></div>\r\n\r\n          <div className=\"UI-card-divider\">\r\n            {sortedImages.map((data, index) => (\r\n              <ObservedCard\r\n                key={index}\r\n                data={data}\r\n                index={index}\r\n                getShadowRoot={getShadowRoot}\r\n                pauseAnimation={pauseAnimation}\r\n                customArrowIcon2={svgIcons['arrow1']}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <Footer\r\n            customArrowIcon2={svgIcons['arrow1']}\r\n            linkArrowIcon={svgIcons['link-icon']}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DynamicTheme;\r\n","// dynamic app shadow DOM wrapper\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport createShadowRoot from 'react-shadow';\r\nimport DynamicTheme from './dynamic-app-outgoing.jsx';\r\nimport { ShadowRootProvider } from '../utils/context-providers/shadow-root-context.tsx';\r\n\r\nconst DynamicAppInbound = ({ onFocusChange, onReady }) => {\r\n  const shadowRef = useRef(null);\r\n  const [shadowRoot, setShadowRoot] = useState(null);\r\n  const ShadowRoot = createShadowRoot.div;\r\n\r\n  // ensure we only ever signal ready once\r\n  const readySentRef = useRef(false);\r\n  const sendReady = () => {\r\n    if (readySentRef.current) return;\r\n    readySentRef.current = true;\r\n    try { onReady?.(); } catch {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => {\r\n      const root = shadowRef.current?.getRootNode?.();\r\n      if (root && root.host) {\r\n        setShadowRoot(root);\r\n        // first visual frame -> tell enhancer we’re ready\r\n        requestAnimationFrame(sendReady);\r\n      } else {\r\n        console.warn('[Not a ShadowRoot]', root);\r\n      }\r\n    }, 0);\r\n    return () => clearTimeout(t);\r\n  }, [onReady]); // safe for HMR\r\n\r\n  useEffect(() => {\r\n    const el = shadowRef.current;\r\n    if (!el) return;\r\n\r\n    let startY = 0;\r\n    let focusTriggered = false;\r\n\r\n    const triggerSyntheticClick = () => {\r\n      const down = new PointerEvent('pointerdown', {\r\n        bubbles: true, cancelable: true, composed: true, pointerType: 'touch',\r\n      });\r\n      el.dispatchEvent(down);\r\n      onFocusChange?.(true);\r\n      console.log('[Focus triggered in embedded app]');\r\n    };\r\n\r\n    const handleTouchStart = (e) => {\r\n      if (e.touches.length === 0) return;\r\n      startY = e.touches[0].clientY;\r\n      focusTriggered = false;\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n      if (focusTriggered || e.touches.length === 0) return;\r\n      const deltaY = e.touches[0].clientY - startY;\r\n      if (Math.abs(deltaY) > 1) {\r\n        el.scrollTop += 1;\r\n        triggerSyntheticClick();\r\n        focusTriggered = true;\r\n      }\r\n    };\r\n\r\n    if ('ontouchstart' in window) {\r\n      el.addEventListener('touchstart', handleTouchStart, { passive: true });\r\n      el.addEventListener('touchmove', handleTouchMove, { passive: true });\r\n    }\r\n    return () => {\r\n      el.removeEventListener('touchstart', handleTouchStart);\r\n      el.removeEventListener('touchmove', handleTouchMove);\r\n    };\r\n  }, [onFocusChange]);\r\n\r\n  return (\r\n    <div className=\"embedded-app\">\r\n      <ShadowRoot>\r\n        <div ref={shadowRef} className=\"dynamic-app\" id=\"shadow-dynamic-app\">\r\n          {shadowRoot ? (\r\n            <ShadowRootProvider getShadowRoot={() => shadowRoot}>\r\n              {/* pass the guarded ready down so either level can signal */}\r\n              <DynamicTheme onReady={sendReady} />\r\n            </ShadowRootProvider>\r\n          ) : null}\r\n        </div> \r\n      </ShadowRoot>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicAppInbound;\r\n","// Student → color set mapping\r\nexport const colorMapping: Record<string, [string, string, string, string]> = {\r\n  'Yiner Xu ': ['#e9b2c2', '#ffc3d4', '#5f4f53', '#ffc9d8'],\r\n  'Simone Schwartz': ['#d2b098', '#f0be9b', '#5b4e44', '#f2c5a5'],\r\n  'Seth Abrahamson ': ['#a9a9a9', '#b9b9b9', '#292929', '#c0c0c0'],\r\n  'Sanna Anwar': ['#e9d0a0', '#ffe4af', '#2f2d28', '#ffe7b7'],\r\n  'Javi Ortiz': ['#e9afbd', '#ffbfcf', '#2f2a2b', '#ffc5d4'],\r\n  'Janhvi Gokalgandhi': ['#a0e1e9', '#aff7ff', '#282e2f', '#b7f8ff'],\r\n  'Andrew Adamides': ['#bef9da', '#7ca08d', '#262a28', '#9dccb4'],\r\n  'Shozab Raza': ['#e9e0a7', '#fff6b6', '#2f2e29', '#fff7bd'],\r\n  'Baopu Wang': ['#b3c2e9', '#c4d4ff', '#4f535f', '#cad8ff'],\r\n  'Efe Ozalp': ['#6fc1e9', '#78d3ff', '#242b2f', '#85d7ff'],\r\n  'Harry Liao ': ['#abcdb2', '#b5e7be', '#292d2a', '#bceac5'],\r\n  'Jawad Naik': ['#97cfac', '#9bedb9', '#272d29', '#a5efc0'],\r\n};\r\n\r\nexport const colorMapping2: Record<string, [string, string, string, string]> = {\r\n  'Yiner Xu': ['#e9b2c2', '#ffc3d4', '#5f4f53', '#ffc9d8'],\r\n  'Simone Schwartz': ['#d2b098', '#f0be9b', '#5b4e44', '#f2c5a5'],\r\n  'Seth Abrahamson': ['#a9a9a9', '#b9b9b9', '#292929', '#c0c0c0'],\r\n  'Sanna Anwar': ['#e9d0a0', '#ffe4af', '#2f2d28', '#ffe7b7'],\r\n  'Javi Ortiz': ['#e9afbd', '#ffbfcf', '#2f2a2b', '#ffc5d4'],\r\n  'Janhvi Gokalgandhi': ['#a0e1e9', '#aff7ff', '#282e2f', '#b7f8ff'],\r\n  'Andrew Adamides': ['#bef9da', '#7ca08d', '#262a28', '#9dccb4'],\r\n  'Shozab Raza': ['#e9e0a7', '#fff6b6', '#2f2e29', '#fff7bd'],\r\n  'Baopu Wang': ['#b3c2e9', '#c4d4ff', '#4f535f', '#cad8ff'],\r\n  'Efe Ozalp': ['#6fc1e9', '#78d3ff', '#242b2f', '#85d7ff'],\r\n  'Harry Liao': ['#abcdb2', '#b5e7be', '#292d2a', '#bceac5'],\r\n  'Jawad Naik': ['#97cfac', '#9bedb9', '#272d29', '#a5efc0'],\r\n};\r\n\r\n","// Fetch gallery images for the navigation menu\r\nimport sanityClient from '../../utils/sanity';\r\n\r\nconst fetchGallery = async () => {\r\n  const query = `\r\n    *[_type == \"gallery\"]{\r\n      _id,\r\n      images[] {\r\n        image {\r\n          asset-> {\r\n            url\r\n          }\r\n        },\r\n        altText\r\n      }\r\n    }\r\n  `;\r\n\r\n  try {\r\n    const data = await sanityClient.fetch(query);\r\n\r\n    // Flatten and randomize images\r\n    const flattenedImages = data.flatMap((gallery) =>\r\n      gallery.images.map((img, index) => ({\r\n        url: img.image?.asset?.url || '',\r\n        alt: img.altText || 'Default Alt Text',\r\n        cssClass: `gallery-image-${index}`, // Generate unique class names here if needed\r\n      }))\r\n    );\r\n\r\n    const shuffledImages = flattenedImages.sort(() => Math.random() - 0.5);\r\n\r\n    return shuffledImages;\r\n  } catch (error) {\r\n    console.error('Error fetching gallery data:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default fetchGallery;\r\n","// src/dynamic-app/lib/observedCard.jsx\r\nimport React, { useRef } from 'react';\r\nimport UIcards from '../components/homepage-UIcards';\r\nimport useIntersectionTransform from './shadowObserver';\r\n\r\nfunction ObservedCard({\r\n  data,\r\n  index,\r\n  getShadowRoot,\r\n  pauseAnimation,\r\n  customArrowIcon2,\r\n}) {\r\n  const ref = useRef(null);\r\n\r\n  // The hook will accept whatever you pass — no TS constraint here\r\n  useIntersectionTransform(ref, getShadowRoot, pauseAnimation);\r\n\r\n  return (\r\n    <div ref={ref} className={`custom-card-${index}`}>\r\n      <UIcards\r\n        title={data.title}\r\n        backgroundColor={data.backgroundColor}\r\n        image1={data.image1}\r\n        image2={data.image2}\r\n        alt1={data.alt1}\r\n        alt2={data.alt2}\r\n        url1={data.url1}\r\n        className={`custom-card-${index}`}\r\n        customArrowIcon2={customArrowIcon2}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ObservedCard;\r\n","// src/dynamic-app/lib/palette-controller.ts\r\n\r\nexport type Quartet = [string, string, string, string];\r\nexport type Triplet = [string, string, string];\r\n\r\nconst WHITE = '#FFFFFF';\r\n\r\n// resolve alt → palette (handles trailing spaces too)\r\nexport function resolvePalette(\r\n  altRaw: string | null | undefined,\r\n  colorMapping: Record<string, Quartet | undefined>\r\n): Quartet | null {\r\n  if (!altRaw) return null;\r\n  const exact = colorMapping[altRaw];\r\n  if (Array.isArray(exact)) return exact as Quartet;\r\n  const trimmed = colorMapping[altRaw.trim()];\r\n  if (Array.isArray(trimmed)) return trimmed as Quartet;\r\n  return null;\r\n}\r\n\r\n// compute state from a quartet\r\nexport function computeStateFromPalette(\r\n  q: Quartet | null,\r\n  win: Window = window\r\n): { activeColor: string; movingText: Triplet; lastKnown: string } {\r\n  const palette: Quartet = q ?? [WHITE, WHITE, WHITE, WHITE];\r\n  const [c0, c1, c2, c3] = palette;\r\n\r\n  // desktop/mobile branching for first slot\r\n  const isDesktop = win.innerWidth >= 1024;\r\n  const first = isDesktop ? (c1 ?? WHITE) : (c0 ?? WHITE);\r\n\r\n  const movingText: Triplet = [first, c1 ?? WHITE, c3 ?? c2 ?? WHITE];\r\n  const activeColor = c2 ?? WHITE;\r\n\r\n  return { activeColor, movingText, lastKnown: activeColor };\r\n}\r\n","let currentlyActiveAlt1 = null;\r\nlet highestVisibility = 0;\r\nlet debounceTimeout = null;\r\n\r\nconst setupAltObserver = (onActivate, onDeactivate, rootElement = document) => {\r\n  const observerOptions = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: Array.from(Array(101).keys(), (x) => x / 100),\r\n  };\r\n\r\n  const observerCallback = (entries) => {\r\n    entries.sort((a, b) => b.intersectionRatio - a.intersectionRatio);\r\n\r\n    entries.forEach((entry) => {\r\n      const element = entry.target;\r\n      const imageElement = element.querySelector('.ui-image1');\r\n\r\n      if (imageElement) {\r\n        const alt1Value = imageElement.getAttribute('alt');\r\n        const visibility = entry.intersectionRatio;\r\n\r\n        if (visibility > 0.1 && visibility > highestVisibility) {\r\n          if (currentlyActiveAlt1 !== alt1Value) {\r\n            if (currentlyActiveAlt1) {\r\n              onDeactivate(currentlyActiveAlt1);\r\n            }\r\n            onActivate(alt1Value);\r\n            currentlyActiveAlt1 = alt1Value;\r\n            highestVisibility = visibility;\r\n          }\r\n        } else if (visibility <= 0.1 && currentlyActiveAlt1 === alt1Value) {\r\n          onDeactivate(alt1Value);\r\n          currentlyActiveAlt1 = null;\r\n          highestVisibility = 0;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const observer = new IntersectionObserver(observerCallback, observerOptions);\r\n\r\n  const triggerInitialActivation = () => {\r\n    clearTimeout(debounceTimeout);\r\n    debounceTimeout = setTimeout(() => {\r\n      const cards = Array.from(rootElement.querySelectorAll('.card-container'));\r\n      const entries = cards.map((card) => {\r\n        const boundingRect = card.getBoundingClientRect();\r\n        const viewportHeight = window.innerHeight;\r\n        const visibility = Math.max(\r\n          0,\r\n          Math.min(boundingRect.height, viewportHeight - boundingRect.top) / boundingRect.height\r\n        );\r\n        return {\r\n          target: card,\r\n          intersectionRatio: visibility,\r\n        };\r\n      });\r\n\r\n      observerCallback(entries);\r\n    }, 50);\r\n  };\r\n\r\n  rootElement.querySelectorAll('.card-container').forEach((card) => observer.observe(card));\r\n  triggerInitialActivation();\r\n};\r\n\r\nexport default setupAltObserver;\r\n","// useIntersectionTransform.ts\r\nimport { useEffect } from 'react';\r\n\r\nexport default function useIntersectionTransform(\r\n  ref: React.RefObject<HTMLElement>,\r\n  getShadowRoot: () => ShadowRoot | null,\r\n  pauseAnimation: boolean,\r\n  getScrollRoot?: () => Element | null  // 👈 NEW\r\n) {\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || pauseAnimation) return;\r\n\r\n    // Figure out where we live (shadow/dom) and what to use as IO root.\r\n    const shadow = getShadowRoot?.() ?? null;\r\n    const isInShadow = !!shadow;\r\n    const containerEl =\r\n      (typeof getScrollRoot === 'function' && getScrollRoot()) ||\r\n      // prefer your inner scroller if we can find it:\r\n      (isInShadow ? shadow.querySelector('.embedded-app') as Element | null : null) ||\r\n      null; // fallback = viewport\r\n\r\n    // (optional) gate transforms to when pointer is inside shadow host\r\n    let mouseInside = false;\r\n    const hostEl = isInShadow ? (shadow as ShadowRoot).host as HTMLElement : null;\r\n    const onEnter = () => (mouseInside = true);\r\n    const onLeave = () => (mouseInside = false);\r\n    if (hostEl) {\r\n      hostEl.addEventListener('pointerenter', onEnter);\r\n      hostEl.addEventListener('pointerleave', onLeave);\r\n    }\r\n\r\n    const cardEl = ref.current!;\r\n    const imageContainer  = cardEl.querySelector('.image-container')  as HTMLElement | null;\r\n    const imageContainer2 = cardEl.querySelector('.image-container2') as HTMLElement | null;\r\n    if (!imageContainer || !imageContainer2) return;\r\n\r\n    const applyTransform = (percentage: number) => {\r\n      const width =\r\n        containerEl instanceof Element\r\n          ? (containerEl as HTMLElement).clientWidth\r\n          : window.innerWidth;\r\n\r\n      let imageContainerTransform = 'translate(0em, 0em)';\r\n      let imageContainer2Transform = 'translate(1em, -28em)';\r\n      let imageContainerZIndex = '5';\r\n      let imageContainer2ZIndex = '1';\r\n\r\n      if (width <= 767) {\r\n        if (percentage > 0.35 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0.5em, 1em)';\r\n          imageContainer2Transform = 'translate(0.5em, -32.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.15 && percentage <= 0.35) {\r\n          imageContainerTransform = 'translate(1.5em, 0.5em)';\r\n          imageContainer2Transform = 'translate(-0.25em, -34.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.15) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -33.5em)';\r\n        }\r\n      } else if (width <= 1024) {\r\n        if (percentage >= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.3) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.1) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else if (width > 1025) {\r\n        if (percentage > 0.6 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(1em, 1em)';\r\n          imageContainer2Transform = 'translate(0em, -28.8em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.3 && percentage <= 0.6) {\r\n          imageContainerTransform = 'translate(1.2em, -0.8em)';\r\n          imageContainer2Transform = 'translate(0em, -28em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -27.4em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else {\r\n        if (percentage > 0.3 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n        }\r\n      }\r\n\r\n      imageContainer.style.transform = imageContainerTransform;\r\n      imageContainer.style.zIndex = imageContainerZIndex;\r\n      imageContainer2.style.transform = imageContainer2Transform;\r\n      imageContainer2.style.zIndex = imageContainer2ZIndex;\r\n    };\r\n\r\n    // IO now uses the scroll container as root (if available)\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (isInShadow && !mouseInside) return;\r\n\r\n        const rect = entry.boundingClientRect;\r\n\r\n        // use the container’s rect/height instead of window\r\n        const rootRect = containerEl\r\n          ? (containerEl as Element).getBoundingClientRect()\r\n          : document.documentElement.getBoundingClientRect();\r\n\r\n        const rootHeight =\r\n          containerEl instanceof Element\r\n            ? (containerEl as HTMLElement).clientHeight\r\n            : window.innerHeight;\r\n\r\n        const rootCenter = rootRect.top + rootHeight;\r\n\r\n        // replicate your old math but relative to the container center\r\n        const percentage = Math.max(\r\n          0,\r\n          Math.min(rect.height, rootCenter - rect.top)\r\n        ) / rect.height;\r\n\r\n        applyTransform(percentage);\r\n      },\r\n      {\r\n        root: containerEl || null, // ← critical change\r\n        threshold: Array.from({ length: 101 }, (_, i) => i / 100),\r\n      }\r\n    );\r\n\r\n    // initial position apply (also relative to container)\r\n    const rect = cardEl.getBoundingClientRect();\r\n    const rootRect = containerEl\r\n      ? (containerEl as Element).getBoundingClientRect()\r\n      : document.documentElement.getBoundingClientRect();\r\n    const rootHeight =\r\n      containerEl instanceof Element\r\n        ? (containerEl as HTMLElement).clientHeight\r\n        : window.innerHeight;\r\n    const rootCenter = rootRect.top + rootHeight / 1.5;\r\n    const initialPct = Math.max(0, Math.min(rect.height, rootCenter - rect.top)) / rect.height;\r\n    applyTransform(initialPct);\r\n\r\n    observer.observe(cardEl);\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n      if (hostEl) {\r\n        hostEl.removeEventListener('pointerenter', onEnter);\r\n        hostEl.removeEventListener('pointerleave', onLeave);\r\n      }\r\n    };\r\n  }, [ref, pauseAnimation, getShadowRoot, getScrollRoot]);\r\n}\r\n","","","","","// src/utils/context-providers/shadow-root-context.tsx\r\nimport React, { createContext, useContext, useRef, ReactNode } from 'react';\r\n\r\ntype ShadowRootFn = () => ShadowRoot | null;\r\ntype StyleSheetRaw = string;\r\n\r\nconst hasDOM = typeof document !== 'undefined';\r\nconst hasConstructedSheets =\r\n  hasDOM &&\r\n  typeof (globalThis as any).Document !== 'undefined' &&\r\n  'adoptedStyleSheets' in (Document.prototype as any) &&\r\n  typeof (globalThis as any).CSSStyleSheet !== 'undefined' &&\r\n  'replaceSync' in (CSSStyleSheet.prototype as any);\r\n\r\nconst isShadowRoot = (node: any): node is ShadowRoot =>\r\n  typeof (globalThis as any).ShadowRoot !== 'undefined' && node instanceof (globalThis as any).ShadowRoot;\r\n\r\ntype Ctx = {\r\n  getShadowRoot: ShadowRootFn;\r\n  injectStyle: (css: StyleSheetRaw, id: string) => void;\r\n  injectLink: (href: string, id?: string) => void;\r\n  removeStyle?: (id: string) => void;\r\n} | null;\r\n\r\nconst ShadowRootContext = createContext<Ctx>(null);\r\n\r\nlet warnedOnce = false;\r\n\r\nexport const useShadowRoot = () => {\r\n  const ctx = useContext(ShadowRootContext);\r\n  if (!ctx) {\r\n    if (!warnedOnce) {\r\n      // Dev-friendly, harmless in prod too; only once.\r\n      console.warn('useShadowRoot called outside provider; falling back to document.');\r\n      warnedOnce = true;\r\n    }\r\n\r\n    const injectStyle = (css: string, id: string) => {\r\n      if (!hasDOM) return;\r\n      const existing = document.head.querySelector<HTMLStyleElement>(`style[data-style-id=\"${id}\"]`);\r\n      if (existing) return;\r\n      const style = document.createElement('style');\r\n      style.dataset.styleId = id;\r\n      style.textContent = css;\r\n      document.head.appendChild(style);\r\n    };\r\n\r\n    const injectLink = (href: string, id?: string) => {\r\n      if (!hasDOM) return;\r\n      const selector = id\r\n        ? `link[data-style-id=\"${id}\"]`\r\n        : `link[rel=\"stylesheet\"][href=\"${href}\"]`;\r\n      if (document.head.querySelector(selector)) return;\r\n      const link = document.createElement('link');\r\n      link.rel = 'stylesheet';\r\n      link.href = href;\r\n      if (id) link.dataset.styleId = id;\r\n      document.head.appendChild(link);\r\n    };\r\n\r\n    const removeStyle = (id: string) => {\r\n      if (!hasDOM) return;\r\n      document.head.querySelector(`style[data-style-id=\"${id}\"]`)?.remove();\r\n    };\r\n\r\n    return {\r\n      getShadowRoot: () => null,\r\n      injectStyle,\r\n      injectLink,\r\n      removeStyle,\r\n    };\r\n  }\r\n  return ctx;\r\n};\r\n\r\nexport function ShadowRootProvider({\r\n  getShadowRoot,\r\n  children,\r\n}: {\r\n  getShadowRoot: ShadowRootFn;\r\n  children: ReactNode;\r\n}) {\r\n  // Cache constructed sheets per ID (per provider)\r\n  const sheetCacheRef = useRef<Map<string, CSSStyleSheet>>(new Map());\r\n\r\n  const injectStyle = (css: string, id: string) => {\r\n    const root = getShadowRoot();\r\n\r\n    // If no shadow root, gracefully inject into document.head\r\n    if (!isShadowRoot(root)) {\r\n      if (!hasDOM) return;\r\n      const existing = document.head.querySelector<HTMLStyleElement>(`style[data-style-id=\"${id}\"]`);\r\n      if (existing) return;\r\n      const style = document.createElement('style');\r\n      style.dataset.styleId = id;\r\n      style.textContent = css;\r\n      document.head.appendChild(style);\r\n      return;\r\n    }\r\n\r\n    // Shadow root path\r\n    if (hasConstructedSheets) {\r\n      let sheet = sheetCacheRef.current.get(id);\r\n      if (!sheet) {\r\n        sheet = new (CSSStyleSheet as any)();\r\n        sheet.replaceSync(css);\r\n        sheetCacheRef.current.set(id, sheet);\r\n      }\r\n      if (!root.adoptedStyleSheets.includes(sheet)) {\r\n        root.adoptedStyleSheets = [...root.adoptedStyleSheets, sheet];\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Fallback <style> in shadow root\r\n    if (root.querySelector(`style[data-style-id=\"${id}\"]`)) return;\r\n    const style = document.createElement('style');\r\n    style.textContent = css;\r\n    (style as any).dataset.styleId = id;\r\n    root.appendChild(style);\r\n  };\r\n\r\n  const injectLink = (href: string, id?: string) => {\r\n    const root = getShadowRoot();\r\n\r\n    // If no shadow root, use document.head\r\n    if (!isShadowRoot(root)) {\r\n      if (!hasDOM) return;\r\n      const selector = id\r\n        ? `link[data-style-id=\"${id}\"]`\r\n        : `link[rel=\"stylesheet\"][href=\"${href}\"]`;\r\n      if (document.head.querySelector(selector)) return;\r\n      const link = document.createElement('link');\r\n      link.rel = 'stylesheet';\r\n      link.href = href;\r\n      if (id) (link as any).dataset.styleId = id;\r\n      document.head.appendChild(link);\r\n      return;\r\n    }\r\n\r\n    // Shadow root link injection\r\n    const selector = id ? `link[data-style-id=\"${id}\"]` : `link[rel=\"stylesheet\"][href=\"${href}\"]`;\r\n    if (root.querySelector(selector)) return;\r\n    const link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.href = href;\r\n    if (id) (link as any).dataset.styleId = id;\r\n    root.appendChild(link);\r\n  };\r\n\r\n  const removeStyle = (id: string) => {\r\n    const root = getShadowRoot();\r\n\r\n    // Remove from doc head if no shadow root\r\n    if (!isShadowRoot(root)) {\r\n      if (!hasDOM) return;\r\n      document.head.querySelector(`style[data-style-id=\"${id}\"]`)?.remove();\r\n      return;\r\n    }\r\n\r\n    if (hasConstructedSheets) {\r\n      const sheet = sheetCacheRef.current.get(id);\r\n      if (sheet) {\r\n        root.adoptedStyleSheets = root.adoptedStyleSheets.filter((s) => s !== sheet);\r\n      }\r\n      return;\r\n    }\r\n    root.querySelector(`style[data-style-id=\"${id}\"]`)?.remove();\r\n  };\r\n\r\n  return (\r\n    <ShadowRootContext.Provider value={{ getShadowRoot, injectStyle, injectLink, removeStyle }}>\r\n      {children}\r\n    </ShadowRootContext.Provider>\r\n  );\r\n}\r\n","// src/utils/context-providers/style-injector.ts\r\nimport { useEffect } from 'react';\r\nimport { useShadowRoot } from './shadow-root-context';\r\n\r\n// Augment Window locally so TS always sees the field here\r\ndeclare global {\r\n  interface Window {\r\n    __DYNAMIC_STYLE_IDS__?: Set<string>;\r\n  }\r\n}\r\n\r\n// Safe handle to window (SSR-friendly)\r\nconst win: (Window & { __DYNAMIC_STYLE_IDS__?: Set<string> }) | undefined =\r\n  typeof window !== 'undefined' ? window : undefined;\r\n\r\n// Global dedupe set (persisted on window between renders)\r\nconst globalStyleIds: Set<string> = (() => {\r\n  if (!win) return new Set<string>();\r\n  if (!win.__DYNAMIC_STYLE_IDS__) win.__DYNAMIC_STYLE_IDS__ = new Set<string>();\r\n  return win.__DYNAMIC_STYLE_IDS__;\r\n})();\r\n\r\nexport const useStyleInjection = (css: string, id: string) => {\r\n  const { injectStyle, getShadowRoot } = useShadowRoot() || {};\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn('useStyleInjection: id is required for dedupe');\r\n      }\r\n      return;\r\n    }\r\n\r\n    const shadowRoot = getShadowRoot?.();\r\n    const isInShadow = shadowRoot && shadowRoot !== document;\r\n\r\n    if (isInShadow && injectStyle) {\r\n      // Shadow DOM dedupe by ID\r\n      if (!shadowRoot.querySelector(`style[data-style-id=\"${id}\"]`)) {\r\n        injectStyle(css, id); // provider handles DOM append\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Global dedupe (memo + DOM check as a safety)\r\n    if (!globalStyleIds.has(id)) {\r\n      const existing = document.head.querySelector(`style[data-style-id=\"${id}\"]`);\r\n      if (!existing) {\r\n        const styleEl = document.createElement('style');\r\n        styleEl.textContent = css;\r\n        styleEl.dataset.styleId = id;\r\n        document.head.appendChild(styleEl);\r\n      }\r\n      globalStyleIds.add(id);\r\n    }\r\n  }, [css, id, injectStyle, getShadowRoot]);\r\n};\r\n"],"names":["React","useEffect","useState","jsx","_jsx","RedIntroOverlay","visible","setVisible","timer","setTimeout","clearTimeout","style","position","top","left","width","height","backgroundColor","opacity","pointerEvents","transition","zIndex","Link","jsxs","_jsxs","Footer","customArrowIcon2","linkArrowIcon","className","children","role","tabIndex","dangerouslySetInnerHTML","__html","href","target","rel","id","MediaLoader","useStyleInjection","uiCardsCss","UIcards","forwardRef","title","image1","image2","alt1","alt2","url1","ref","type","src","alt","priority","displayName","fetchGallery","navCss","Navigation","activeColor","customArrowIcon","isInShadow","isOpen","setIsOpen","lastScrollY","setLastScrollY","isScrollingUp","setIsScrollingUp","isScrolled","setIsScrolled","galleryImages","setGalleryImages","showScrollHint","setShowScrollHint","hasShownScrollHint","setHasShownScrollHint","toggleMenu","prev","handleCloseMenu","handleScroll","currentScrollY","window","scrollY","innerHeight","addEventListener","removeEventListener","document","body","classList","toggle","remove","fetchImages","images","error","console","innerWidth","galleryContainer","querySelector","handleHorizontalScroll","e","preventDefault","scrollLeft","deltaY","gallery","scrollIndicator","updateScrollIndicator","scrollWidth","clientWidth","percentage","Math","max","setProperty","scrollHeight","clientHeight","scrollTop","normalPercentage","reversedPercentage","min","fadeOutTimeout","hintElement","removeTimeout","hexToRgba","hex","alpha","r","parseInt","slice","g","b","adjustBrightness","multiplier","floor","toString","padStart","darkenedColor","edgeColor","background","backdropFilter","onClick","map","img","index","url","draggable","useRef","useMemo","getPreloadedDynamicApp","ensureImagesPreload","sortByCss","options","value","label","shuffleArray","arr","a","i","length","j","random","localSort","data","mode","Array","isArray","sort","localeCompare","SortBy","onFetchItems","colorMapping","getRoot","selectedValue","setSelectedValue","baseItems","setBaseItems","items","setItems","dropdownRef","handleOptionClick","handleClickOutside","root","pauseButton","current","contains","cancelled","cached","then","catch","derived","screenWidth","setScreenWidth","onResize","itemIndex","convertHexToRGBA","h","replace","borderItemColor","color","boxShadowItemColor","border","boxShadow","find","opt","borderTop","option","titleCss","isTriplet","v","every","x","TitleDivider","svgIcon","movingTextColors","pauseAnimation","rootRef","isVisible","setIsVisible","el","IntersectionObserver","io","entry","isIntersecting","threshold","observe","disconnect","defaultTriplet","incoming","stableColors","setStableColors","pendingRef","sameTriplet","mul","test","colors","textSegments","text","suffix","renderMovingContent","repeatCount","flatMap","_","repeatIndex","segment","fill","useCallback","FireworksDisplay","PauseButton","ObservedCard","setupAltObserver","IntroOverlay","useShadowRoot","indexCss","miscCss","overlayCss","whenDynamicPreloadReady","ensureDynamicPreload","resolvePalette","computeStateFromPalette","DynamicTheme","onReady","sortedImages","setSortedImages","svgIcons","setSvgIcons","setActiveColor","setMovingTextColors","lastKnownColor","setLastKnownColor","isLoading","setIsLoading","setPauseAnimation","showNavigation","setShowNavigation","toggleFireworksRef","scrollContainerRef","shadowRef","showFireworks","setShowFireworks","isHostVisible","setIsHostVisible","hostVisibleRef","getShadowRoot","injectStyle","forEach","requestAnimationFrame","cancelAnimationFrame","snap","icons","cache","observerRoot","handleActivate","quartet","nextActive","movingText","nextTriplet","lastKnown","handleDeactivate","currentAltRef","guardedActivate","guardedDeactivate","cleanup","undefined","handleSetToggleFireworks","fn","handlePauseToggle","isEnabled","ro","ResizeObserver","container","warn","desired","rect","getBoundingClientRect","visibleNow","bottom","initialDesired","cardRefs","createRef","scrollLockContainer","onToggleFireworks","toggleP5Animation","setSortOption","createShadowRoot","ShadowRootProvider","DynamicAppInbound","onFocusChange","shadowRoot","setShadowRoot","ShadowRoot","div","readySentRef","sendReady","t","getRootNode","host","startY","focusTriggered","triggerSyntheticClick","down","PointerEvent","bubbles","cancelable","composed","pointerType","dispatchEvent","log","handleTouchStart","touches","clientY","handleTouchMove","abs","passive","colorMapping2","sanityClient","query","fetch","flattenedImages","image","asset","altText","cssClass","shuffledImages","useIntersectionTransform","WHITE","altRaw","exact","trimmed","trim","q","win","palette","c0","c1","c2","c3","isDesktop","first","currentlyActiveAlt1","highestVisibility","debounceTimeout","onActivate","onDeactivate","rootElement","observerOptions","rootMargin","from","keys","observerCallback","entries","intersectionRatio","element","imageElement","alt1Value","getAttribute","visibility","observer","triggerInitialActivation","cards","querySelectorAll","card","boundingRect","viewportHeight","getScrollRoot","shadow","containerEl","mouseInside","hostEl","onEnter","onLeave","cardEl","imageContainer","imageContainer2","applyTransform","Element","imageContainerTransform","imageContainer2Transform","imageContainerZIndex","imageContainer2ZIndex","transform","boundingClientRect","rootRect","documentElement","rootHeight","rootCenter","initialPct","createContext","useContext","hasDOM","hasConstructedSheets","globalThis","Document","prototype","CSSStyleSheet","isShadowRoot","node","ShadowRootContext","warnedOnce","ctx","css","existing","head","createElement","dataset","styleId","textContent","appendChild","injectLink","selector","link","removeStyle","sheetCacheRef","Map","sheet","get","replaceSync","set","adoptedStyleSheets","includes","filter","s","Provider","globalStyleIds","Set","__DYNAMIC_STYLE_IDS__","process","env","NODE_ENV","has","styleEl","add"],"sourceRoot":""}