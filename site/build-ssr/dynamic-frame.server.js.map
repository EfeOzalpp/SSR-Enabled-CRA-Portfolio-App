{"version":3,"file":"dynamic-frame.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/dynamic-app/frame.tsx","webpack://personal-site/./src/styles/block-type-a.css","webpack://personal-site/./src/utils/content-utility/dynamic-overlay.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts"],"sourcesContent":["// src/components/dynamic-app/frame.tsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport client from '../../utils/sanity';\r\nimport { useDynamicOverlay } from '../../utils/content-utility/dynamic-overlay';\r\nimport { useSsrData } from '../../utils/context-providers/ssr-data-context';\r\nimport { useRealMobileViewport } from '../../utils/content-utility/real-mobile';\r\nimport '../../styles/block-type-a.css';\r\n\r\nconst getDeviceType = (w: number): 'phone' | 'tablet' | 'laptop' =>\r\n  w < 768 ? 'phone' : w < 1025 ? 'tablet' : 'laptop';\r\n\r\nconst Frame: React.FC = () => {\r\n  const ssrData = useSsrData();\r\n  const preloadedMap = (ssrData?.preloaded?.dynamic as Record<string, string>) || {};\r\n  const [svgMap, setSvgMap] = useState<Record<string, string>>(preloadedMap);\r\n  const [device, setDevice] = useState<'phone' | 'tablet' | 'laptop'>(getDeviceType(typeof window !== 'undefined' ? window.innerWidth : 1200));\r\n  const [imgLoaded, setImgLoaded] = useState(false);\r\n  const [fetchErr, setFetchErr] = useState<string | null>(null);\r\n\r\n  const frameRef = useRef<HTMLImageElement>(null);\r\n  const overlaySize = useDynamicOverlay(frameRef);\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const onResize = () => setDevice(getDeviceType(window.innerWidth));\r\n    window.addEventListener('resize', onResize);\r\n    window.addEventListener('orientationchange', onResize);\r\n    return () => {\r\n      window.removeEventListener('resize', onResize);\r\n      window.removeEventListener('orientationchange', onResize);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(svgMap).length > 0) return;\r\n    client.fetch(\r\n      `*[_type == \"svgAsset\" && title in [\"Laptop\", \"Tablet\", \"Phone\"]]{\r\n        title, file { asset->{url} }\r\n      }`\r\n    )\r\n    .then((results: any[]) => {\r\n      const map: Record<string, string> = {};\r\n      results.forEach((r: any) => { map[r.title.toLowerCase()] = r.file?.asset?.url; });\r\n      setSvgMap(map);\r\n    })\r\n    .catch((err) => {\r\n      setFetchErr('assets-unavailable');\r\n      console.warn('[Frame] fetch SVG failed:', err);\r\n    });\r\n  }, [svgMap]);\r\n\r\n  const svgUrl = svgMap[device];\r\n\r\n  useEffect(() => {\r\n    const img = frameRef.current;\r\n    setImgLoaded(Boolean(img && img.complete && svgUrl));\r\n  }, [svgUrl]);\r\n\r\n  return (\r\n    <section className=\"block-type-a\">\r\n      <div className=\"device-wrapper\">\r\n        <img\r\n          ref={frameRef}\r\n          id=\"dynamic-device-frame\"\r\n          src={svgUrl || ''}\r\n          alt={device}\r\n          className={`device-frame ${device}`}\r\n          decoding=\"async\"\r\n          loading=\"eager\"\r\n          onLoad={() => setImgLoaded(true)}\r\n          onError={() => setImgLoaded(true)}\r\n          draggable={false}\r\n          style={{\r\n            visibility: svgUrl ? 'visible' : 'hidden',\r\n            opacity: imgLoaded && svgUrl ? 1 : 0,\r\n            transition: 'opacity 150ms ease',\r\n          }}\r\n          data-src-laptop={svgMap['laptop'] || ''}\r\n          data-src-tablet={svgMap['tablet'] || ''}\r\n          data-src-phone={svgMap['phone'] || ''}\r\n          data-device={device}\r\n        />\r\n\r\n        <div\r\n          className=\"screen-overlay\"\r\n          style={\r\n            device === 'phone'\r\n              ? {\r\n                  width: `${overlaySize.width}px`,\r\n                  height: isRealMobile\r\n                    ? `${overlaySize.heightSet1}svh`\r\n                    : `${overlaySize.heightSet2}px`,\r\n                }\r\n              : undefined\r\n          }\r\n        />\r\n\r\n        {fetchErr && <div className=\"soft-warning\">media frame unavailable</div>}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Frame;\r\n","","import { useEffect, useState } from 'react';\r\n\r\nexport function useDynamicOverlay(frameRef: React.RefObject<HTMLElement>) {\r\n  const [style, setStyle] = useState<{\r\n    width: number;\r\n    heightSet1: number;\r\n    heightSet2: number;\r\n  }>({\r\n    width: 0,\r\n    heightSet1: 0,\r\n    heightSet2: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const update = () => {\r\n      if (!frameRef.current) return;\r\n\r\n      const rect = frameRef.current.getBoundingClientRect();\r\n      const aspect = rect.width / rect.height;\r\n\r\n      // Aspect ratio breakpoints\r\n      const minAspect = 1.5 / 6.5; // ~0.2307\r\n      const maxAspect = 3.3 / 6.5; // ~0.5077\r\n\r\n      // Width range (shared)\r\n      const minWidth = 150;\r\n      const maxWidth = 320;\r\n\r\n      // Height range set 1 (your current svh-based values)\r\n      const minHeightSet1 = 63;\r\n      const maxHeightSet1 = 93;\r\n\r\n      // Height range set 2 (original px-based)\r\n      const minHeightSet2 = 280;\r\n      const maxHeightSet2 = 610;\r\n\r\n      // --- Aspect ratio-based lerp ---\r\n      let width: number;\r\n      let height1: number;\r\n      let height2: number;\r\n\r\n      if (aspect <= minAspect) {\r\n        width = minWidth;\r\n        height1 = minHeightSet1;\r\n        height2 = minHeightSet2;\r\n      } else if (aspect >= maxAspect) {\r\n        width = maxWidth;\r\n        height1 = maxHeightSet1;\r\n        height2 = maxHeightSet2;\r\n      } else {\r\n        const t = (aspect - minAspect) / (maxAspect - minAspect);\r\n        width = minWidth + (maxWidth - minWidth) * t;\r\n        height1 = minHeightSet1 + (maxHeightSet1 - minHeightSet1) * t;\r\n        height2 = minHeightSet2 + (maxHeightSet2 - minHeightSet2) * t;\r\n      }\r\n\r\n      // --- Absolute height multiplier (0 → 2 over 0–1300px) ---\r\n      const minFrameHeight = 0;\r\n      const maxFrameHeight = 1300;\r\n      const minMultiplier = 0;\r\n      const maxMultiplier = 2;\r\n\r\n      const clampedHeight = Math.min(Math.max(rect.height, minFrameHeight), maxFrameHeight);\r\n      const heightT = (clampedHeight - minFrameHeight) / (maxFrameHeight - minFrameHeight);\r\n      const heightMultiplier = minMultiplier + (maxMultiplier - minMultiplier) * heightT;\r\n\r\n      // Apply multiplier\r\n      width *= heightMultiplier;\r\n      height1 *= heightMultiplier;\r\n      height2 *= heightMultiplier;\r\n\r\n      setStyle({\r\n        width,\r\n        heightSet1: height1,\r\n        heightSet2: height2,\r\n      });\r\n    };\r\n\r\n    update();\r\n    window.addEventListener('resize', update);\r\n    window.addEventListener('orientationchange', update);\r\n    return () => {\r\n      window.removeEventListener('resize', update);\r\n      window.removeEventListener('orientationchange', update);\r\n    };\r\n  }, [frameRef]);\r\n\r\n  return style; // { width, heightSet1, heightSet2 }\r\n}\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n"],"names":["React","useEffect","useRef","useState","client","useDynamicOverlay","useSsrData","useRealMobileViewport","jsx","_jsx","jsxs","_jsxs","getDeviceType","w","Frame","ssrData","preloadedMap","preloaded","dynamic","svgMap","setSvgMap","device","setDevice","window","innerWidth","imgLoaded","setImgLoaded","fetchErr","setFetchErr","frameRef","overlaySize","isRealMobile","onResize","addEventListener","removeEventListener","Object","keys","length","fetch","then","results","map","forEach","r","title","toLowerCase","file","asset","url","catch","err","console","warn","svgUrl","img","current","Boolean","complete","className","children","ref","id","src","alt","decoding","loading","onLoad","onError","draggable","style","visibility","opacity","transition","width","height","heightSet1","heightSet2","undefined","setStyle","update","rect","getBoundingClientRect","aspect","minAspect","maxAspect","minWidth","maxWidth","minHeightSet1","maxHeightSet1","minHeightSet2","maxHeightSet2","height1","height2","t","minFrameHeight","maxFrameHeight","minMultiplier","maxMultiplier","clampedHeight","Math","min","max","heightT","heightMultiplier","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","matchMedia","matches","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","realMobile"],"sourceRoot":""}