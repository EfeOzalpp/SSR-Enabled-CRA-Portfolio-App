{"version":3,"file":"dynamic-app-components-pauseButton.server.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAC2D;AACd,CAAC;AACS;AAAA;AAEvD,MAAMQ,WAAW,GAAGA,CAAC;EAAEC;AAAkB,CAAC,KAAK;EAC7C,MAAMC,YAAY,GAAGT,6CAAM,CAAC,IAAI,CAAC;EACjC,MAAMU,OAAO,GAAGV,6CAAM,CAAC,IAAI,CAAC;EAC5B,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGX,+CAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,+CAAQ,CAAC,CAAC,CAAC;;EAEnD;EACAC,gDAAS,CAAC,MAAM;IACd,IAAIM,iBAAiB,EAAE;MACrBA,iBAAiB,CAAC,CAACG,SAAS,CAAC;IAC/B;EACF,CAAC,EAAE,CAACH,iBAAiB,EAAEG,SAAS,CAAC,CAAC;;EAElC;EACAT,gDAAS,CAAC,MAAM;IACd,IAAI,CAACO,YAAY,CAACM,OAAO,EAAE;IAC3B,IAAIC,OAAO,GAAG,IAAI;IAElBb,0DAAM,CAACc,aAAa,CAAC;MACnBC,SAAS,EAAET,YAAY,CAACM,OAAO;MAC/BI,QAAQ,EAAE,KAAK;MACfC,IAAI,EAAE,KAAK;MACXC,QAAQ,EAAE,KAAK;MACfjB,aAAaA,uDAAAA;IACf,CAAC,CAAC,CAACkB,IAAI,CAAEC,IAAI,IAAK;MAChB,IAAI,CAACP,OAAO,EAAE;MACdN,OAAO,CAACK,OAAO,GAAGQ,IAAI;MACtBA,IAAI,CAACC,WAAW,CAACX,YAAY,EAAE,IAAI,CAAC;IACtC,CAAC,CAAC;IAEF,OAAO,MAAM;MACXG,OAAO,GAAG,KAAK;MACf,IAAIN,OAAO,CAACK,OAAO,EAAE;QACnBL,OAAO,CAACK,OAAO,CAACU,OAAO,CAAC,CAAC;QACzBf,OAAO,CAACK,OAAO,GAAG,IAAI;MACxB;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIhB,OAAO,CAACK,OAAO,IAAI,CAACJ,SAAS,EAAE;MACjCD,OAAO,CAACK,OAAO,CAACY,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC;IAC7C;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIlB,OAAO,CAACK,OAAO,IAAI,CAACJ,SAAS,EAAE;MACjCD,OAAO,CAACK,OAAO,CAACS,WAAW,CAACX,YAAY,EAAE,IAAI,CAAC;IACjD;EACF,CAAC;EAED,MAAMgB,WAAW,GAAIC,KAAK,IAAK;IAC7BA,KAAK,CAACC,eAAe,CAAC,CAAC;IAEvB,IAAIrB,OAAO,CAACK,OAAO,EAAE;MACnB,MAAMiB,WAAW,GAAGrB,SAAS,GAAG,CAAC,GAAG,EAAE;MACtCD,OAAO,CAACK,OAAO,CAACY,YAAY,CAAC,CAACd,YAAY,EAAEmB,WAAW,CAAC,EAAE,IAAI,CAAC;MAC/DlB,eAAe,CAACkB,WAAW,CAAC;MAC5BpB,YAAY,CAAC,CAACD,SAAS,CAAC;MAExB,IAAIH,iBAAiB,EAAE;QACrBA,iBAAiB,CAAC,CAACG,SAAS,CAAC;MAC/B;IACF;EACF,CAAC;EAED,OACEL,+DAAA;IACE2B,SAAS,EAAC,kBAAkB;IAC5BC,GAAG,EAAEzB,YAAa;IAClB0B,YAAY,EAAET,gBAAiB;IAC/BU,YAAY,EAAER,gBAAiB;IAC/BS,OAAO,EAAER;EAAY,CACtB,CAAC;AAEN,CAAC;AAED,iEAAetB,WAAW,E","sources":["webpack://personal-site/./src/dynamic-app/components/pauseButton.jsx"],"sourcesContent":["/* Pause Animation Option - Accessibility */\r\nimport React, { useRef, useState, useEffect } from 'react';\r\nimport lottie from '../../utils/load-lottie'; // corrected path\r\nimport animationData from '../lottie/pauseButton.json';\r\n\r\nconst PauseButton = ({ toggleP5Animation }) => {\r\n  const containerRef = useRef(null);\r\n  const animRef = useRef(null);\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [currentFrame, setCurrentFrame] = useState(3);\r\n\r\n  // Sync initial state with fireworks logic\r\n  useEffect(() => {\r\n    if (toggleP5Animation) {\r\n      toggleP5Animation(!isClicked);\r\n    }\r\n  }, [toggleP5Animation, isClicked]);\r\n\r\n  // Setup the lottie instance\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n    let mounted = true;\r\n\r\n    lottie.loadAnimation({\r\n      container: containerRef.current,\r\n      renderer: 'svg',\r\n      loop: false,\r\n      autoplay: false,\r\n      animationData,\r\n    }).then((anim) => {\r\n      if (!mounted) return;\r\n      animRef.current = anim;\r\n      anim.goToAndStop(currentFrame, true);\r\n    });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      if (animRef.current) {\r\n        animRef.current.destroy();\r\n        animRef.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleMouseEnter = () => {\r\n    if (animRef.current && !isClicked) {\r\n      animRef.current.playSegments([3, 10], true);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (animRef.current && !isClicked) {\r\n      animRef.current.goToAndStop(currentFrame, true);\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    event.stopPropagation();\r\n\r\n    if (animRef.current) {\r\n      const targetFrame = isClicked ? 3 : 20;\r\n      animRef.current.playSegments([currentFrame, targetFrame], true);\r\n      setCurrentFrame(targetFrame);\r\n      setIsClicked(!isClicked);\r\n\r\n      if (toggleP5Animation) {\r\n        toggleP5Animation(!isClicked);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"lottie-container\"\r\n      ref={containerRef}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      onClick={handleClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PauseButton;\r\n"],"names":["React","useRef","useState","useEffect","lottie","animationData","jsx","_jsx","PauseButton","toggleP5Animation","containerRef","animRef","isClicked","setIsClicked","currentFrame","setCurrentFrame","current","mounted","loadAnimation","container","renderer","loop","autoplay","then","anim","goToAndStop","destroy","handleMouseEnter","playSegments","handleMouseLeave","handleClick","event","stopPropagation","targetFrame","className","ref","onMouseEnter","onMouseLeave","onClick"],"sourceRoot":""}