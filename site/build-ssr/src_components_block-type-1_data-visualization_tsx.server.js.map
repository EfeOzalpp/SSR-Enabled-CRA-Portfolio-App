{"version":3,"file":"src_components_block-type-1_data-visualization_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/block-type-1/data-visualization.tsx","webpack://personal-site/./src/styles/tooltip.css","webpack://personal-site/./src/utils/content-utility/color-map.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/tooltip/tooltip.ts","webpack://personal-site/./src/utils/tooltip/tooltipInit.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport client from '../../utils/sanity';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport PannableViewport from '../../utils/split+drag/pannable-object-position';\r\nimport { useTooltipInit } from '../../utils/tooltip/tooltipInit';\r\nimport { useSsrData } from '../../utils/context-providers/ssr-data-context';\r\nimport { getHighQualityImageUrl } from '../../utils/media-providers/image-builder';\r\nimport '../../styles/block-type-1.css';\r\n\r\ntype VideoSet = { webmUrl?: string; mp4Url?: string; poster?: any };\r\ntype MediaSlot = { alt?: string; image?: any; video?: VideoSet };\r\ntype DataVizData = { mediaOne: MediaSlot };\r\n\r\nexport default function DataVisualizationBlock() {\r\n  const ssrData = useSsrData();\r\n  const [data, setData] = useState<DataVizData | null>(\r\n    (ssrData?.preloaded?.dataviz as DataVizData) || null\r\n  );\r\n\r\n  useTooltipInit();\r\n\r\n  useEffect(() => {\r\n    if (data) return;\r\n    client\r\n      .fetch<DataVizData>(\r\n        `*[_type == \"mediaBlock\" && slug.current == $slug][0]{\r\n          mediaOne{\r\n            alt,\r\n            image,\r\n            video{\r\n              \"webmUrl\": webm.asset->url,\r\n              \"mp4Url\": mp4.asset->url,\r\n              poster\r\n            }\r\n          }\r\n        }`,\r\n        { slug: 'data-viz' }\r\n      )\r\n      .then(setData)\r\n      .catch((err) => {\r\n        console.warn('[DataVisualizationBlock] GROQ fetch failed:', err);\r\n        setData(null);\r\n      });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  if (!data?.mediaOne) return null;\r\n\r\n  const { alt = 'Data Visualization', image, video } = data.mediaOne;\r\n  const isVideo = Boolean(video?.webmUrl || video?.mp4Url);\r\n  const highPoster = video?.poster\r\n    ? getHighQualityImageUrl(video.poster, 1920, 1080, 90)\r\n    : undefined;\r\n\r\n  return (\r\n    <section\r\n      className=\"block-type-1\"\r\n      style={{ position: 'relative', width: '100%', height: '100dvh', overflow: 'hidden' }}\r\n    >\r\n      <div\r\n        className=\"media-content\"\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          position: 'absolute',\r\n          inset: 0,\r\n        }}\r\n      >\r\n        <PannableViewport sensitivity={2}>\r\n          <MediaLoader\r\n            type={isVideo ? 'video' : 'image'}\r\n            src={isVideo ? (video as VideoSet) : image}\r\n            alt={alt}\r\n            id={isVideo ? 'dataviz-media-video' : 'dataviz-media'}\r\n            {...(highPoster ? { 'data-src-full': highPoster } : {})}\r\n            className=\"tooltip-data-viz\"\r\n            objectPosition=\"center center\"\r\n            style={{ width: '100%', height: '100%' }}\r\n            // priority // uncomment if this is the hero\r\n          />\r\n        </PannableViewport>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","","// Master color config\r\nexport interface ProjectColor {\r\n  rgb: string;         // \"204, 85, 41\"\r\n  tooltipAlpha?: number;\r\n  defaultAlpha?: number;\r\n  darkThemeTop?: string; // optional override for theme-color\r\n}\r\n\r\nexport const projectColors: Record<string, ProjectColor> = {\r\n  'Rotary Lamp': {\r\n    rgb: '204, 85, 41',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(72, 161, 161, 1)'\r\n  },\r\n  'Ice Cream Scoop': {\r\n    rgb: '234, 103, 97',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(23, 27, 24, 1)'\r\n  },\r\n  'Data Visualization': {\r\n    rgb: '153, 199, 7',\r\n    tooltipAlpha: 0.8,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(28, 30, 31, 1)'\r\n  },\r\n  'Evade the Rock': {\r\n    rgb: '101, 86, 175',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgb(25, 25, 25)'\r\n  },\r\n  'Dynamic App': {\r\n    rgb: '120, 211, 255',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(17, 17, 17, 1)'\r\n  }\r\n};\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  // local fallback\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  // CMS fetch by slug\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 1_500);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  currentKey = '';\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 8; left = x - rect.width * 0; }\r\n  else if (nearTop) { top = y + padding - 14; left = x - rect.width * 0; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 24; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding - 4; }\r\n  else { top = y - rect.height / 1.6; left = x + padding - 2; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n    const tooltipClass = [...el.classList].find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); return; }\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  // only attach scroll observer for non-mobile real viewports\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["useEffect","useState","client","MediaLoader","PannableViewport","useTooltipInit","useSsrData","getHighQualityImageUrl","jsx","_jsx","DataVisualizationBlock","ssrData","data","setData","preloaded","dataviz","fetch","slug","then","catch","err","console","warn","mediaOne","alt","image","video","isVideo","Boolean","webmUrl","mp4Url","highPoster","poster","undefined","className","style","position","width","height","overflow","children","inset","sensitivity","type","src","id","objectPosition","projectColors","rgb","tooltipAlpha","defaultAlpha","darkThemeTop","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","window","matchMedia","matches","innerWidth","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","realMobile","addEventListener","removeEventListener","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","bgForKey","key","colorInfo","alpha","createTooltipDOM","el","document","createElement","pointerEvents","zIndex","opacity","visibility","backdropFilter","color","transition","root","getElementById","body","appendChild","tooltipEl","currentKey","hideTimeout","fetchTooltipDataForKey","bg","info","tags","backgroundColor","default","res","showTooltip","clearTimeout","setTimeout","hideTooltip","positionTooltip","x","y","rect","getBoundingClientRect","padding","vw","vh","innerHeight","nearTop","nearBottom","nearRight","nearLeft","left","top","Math","max","min","initGlobalTooltip","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipClass","classList","find","c","startsWith","replace","length","innerHTML","map","t","join","onMouseMove","e","clientX","clientY","requestAnimationFrame","target","checkHoveredElementOnScroll","elementFromPoint","onScroll","onMouseOut","relatedTarget","passive","remove","dispose"],"sourceRoot":""}