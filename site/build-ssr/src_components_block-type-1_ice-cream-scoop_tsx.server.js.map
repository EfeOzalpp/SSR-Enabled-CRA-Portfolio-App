{"version":3,"file":"src_components_block-type-1_ice-cream-scoop_tsx.server.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAA4C;AACkB;AACS;AACQ;AACZ;AACF;AAC1B;AAAA;AAMvC,MAAMW,kBAAkB,GAAG,EAAE;AAC7B,MAAMC,GAAG,GAAG,IAAI;AAED,SAASC,aAAaA,CAAA,EAAG;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,+CAAQ,CAAiB,IAAI,CAAC;EACtD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,+CAAQ,CAAC,MAAOiB,MAAM,CAACC,UAAU,GAAG,IAAI,GAAG,EAAE,GAAG,EAAG,CAAC;EAC9E,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGpB,+CAAQ,CAACiB,MAAM,CAACI,WAAW,GAAGJ,MAAM,CAACC,UAAU,CAAC;EAEpFb,0EAAc,CAAC,CAAC;EAEhBN,gDAAS,CAAC,MAAM;IACdE,uEAAc,CAAU,WAAW,CAAC,CAACqB,IAAI,CAAEC,CAAC,IAAKT,OAAO,CAACS,CAAC,CAAC,CAAC;EAC9D,CAAC,EAAE,EAAE,CAAC;EAENxB,gDAAS,CAAC,MAAM;IACd,MAAMyB,QAAQ,GAAGA,CAAA,KAAMJ,aAAa,CAACH,MAAM,CAACI,WAAW,GAAGJ,MAAM,CAACC,UAAU,CAAC;IAC5ED,MAAM,CAACQ,gBAAgB,CAAC,QAAQ,EAAED,QAAQ,EAAE;MAAEE,OAAO,EAAE;IAAK,CAAC,CAAC;IAC9D,OAAO,MAAMT,MAAM,CAACU,mBAAmB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;EAC7D,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACX,IAAI,EAAE,OAAO,IAAI;EAEtB,MAAMe,aAAa,GAAGC,OAAO,CAAChB,IAAI,CAACiB,QAAQ,EAAEC,KAAK,EAAEC,OAAO,IAAInB,IAAI,CAACiB,QAAQ,EAAEC,KAAK,EAAEE,MAAM,CAAC;EAE5F,MAAMC,GAAG,GAAGxB,kBAAkB;EAC9B,MAAMyB,MAAM,GAAG,GAAG,GAAGzB,kBAAkB;EACvC,MAAM0B,OAAO,GAAGjB,UAAU,IAAIJ,KAAK,IAAImB,GAAG,GAAGvB,GAAG;EAChD,MAAM0B,UAAU,GAAGlB,UAAU,IAAIJ,KAAK,IAAIoB,MAAM,GAAGxB,GAAG;EAEtD,OACEF,gEAAA;IAAS6B,SAAS,EAAC,cAAc;IAACC,EAAE,EAAC,QAAQ;IAACC,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAW,CAAE;IAAAC,QAAA,GAE5EnC,+DAAA;MACE+B,SAAS,EAAC,iBAAiB;MAC3BE,KAAK,EACHrB,UAAU,GACNiB,OAAO,GACL;QAAEO,MAAM,EAAE,IAAI;QAAEC,KAAK,EAAE,MAAM;QAAEH,QAAQ,EAAE,UAAU;QAAEI,GAAG,EAAE,CAAC;QAAEC,UAAU,EAAE;MAAmB,CAAC,GAC7FT,UAAU,GACV;QAAEM,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEH,QAAQ,EAAE,UAAU;QAAEI,GAAG,EAAE,CAAC;QAAEC,UAAU,EAAE;MAAmB,CAAC,GAC/F;QAAEH,MAAM,EAAE,GAAG5B,KAAK,GAAG;QAAE6B,KAAK,EAAE,MAAM;QAAEH,QAAQ,EAAE,UAAU;QAAEI,GAAG,EAAE;MAAE,CAAC,GACtE;QAAED,KAAK,EAAE,GAAG7B,KAAK,GAAG;QAAE4B,MAAM,EAAE,MAAM;QAAEF,QAAQ,EAAE,UAAU;QAAEM,IAAI,EAAE;MAAE,CACzE;MAAAL,QAAA,EAEDnC,+DAAA,CAACJ,kFAAgB;QAAC6C,WAAW,EAAE,CAAE;QAAAN,QAAA,EAC/BnC,+DAAA,CAACH,2EAAW;UACV6C,IAAI,EAAC,OAAO;UACZC,GAAG,EAAErC,IAAI,CAACsC,QAAQ,CAACC,KAAM;UACzBC,GAAG,EAAExC,IAAI,CAACsC,QAAQ,CAACE,GAAG,IAAI,uBAAwB;UAClDd,EAAE,EAAC,kBAAkB;UACrBD,SAAS,EAAC,gCAAgC;UAC1CgB,cAAc,EAAC,aAAa;UAC5Bd,KAAK,EAAE;YAAEI,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE;UAAO;QAAE,CAC1C;MAAC,CACc;IAAC,CAChB,CAAC,EAENpC,+DAAA,CAACL,0EAAgB;MAACa,KAAK,EAAEA,KAAM;MAACC,QAAQ,EAAEA;IAAS,CAAE,CAAC,EAGtDT,+DAAA;MACE+B,SAAS,EAAC,iBAAiB;MAC3BE,KAAK,EACHrB,UAAU,GACNiB,OAAO,GACL;QACEO,MAAM,EAAE,MAAM;QACdC,KAAK,EAAE,MAAM;QACbH,QAAQ,EAAE,UAAU;QACpBI,GAAG,EAAE,IAAI;QACTC,UAAU,EAAE;MACd,CAAC,GACDT,UAAU,GACV;QACEM,MAAM,EAAE,IAAI;QACZC,KAAK,EAAE,MAAM;QACbH,QAAQ,EAAE,UAAU;QACpBI,GAAG,EAAE,MAAM;QACXC,UAAU,EAAE;MACd,CAAC,GACD;QACEH,MAAM,EAAE,GAAG,GAAG,GAAG5B,KAAK,GAAG;QACzB6B,KAAK,EAAE,MAAM;QACbH,QAAQ,EAAE,UAAU;QACpBI,GAAG,EAAE,GAAG9B,KAAK;MACf,CAAC,GACH;QACE6B,KAAK,EAAE,GAAG,GAAG,GAAG7B,KAAK,GAAG;QACxB4B,MAAM,EAAE,MAAM;QACdF,QAAQ,EAAE,UAAU;QACpBM,IAAI,EAAE,GAAGhC,KAAK;MAChB,CACL;MAAA2B,QAAA,EAEDnC,+DAAA,CAACJ,kFAAgB;QAAAuC,QAAA,EACfnC,+DAAA,CAACH,2EAAW;UACV6C,IAAI,EAAErB,aAAa,GAAG,OAAO,GAAG,OAAQ;UACxCsB,GAAG,EAAEtB,aAAa,GAAIf,IAAI,CAACiB,QAAQ,CAACC,KAAK,GAAiBlB,IAAI,CAACiB,QAAQ,CAACsB,KAAc;UACtFC,GAAG,EAAExC,IAAI,CAACiB,QAAQ,CAACuB,GAAG,IAAI,uBAAwB;UAClDd,EAAE,EAAC,kBAAkB;UACrBD,SAAS,EAAC,gCAAgC;UAC1CgB,cAAc,EAAC,eAAe;UAC9Bd,KAAK,EAAE;YAAEI,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE;UAAO;QAAE,CAC1C;MAAC,CACc;IAAC,CAChB,CAAC;EAAA,CACC,CAAC;AAEd,C","sources":["webpack://personal-site/./src/components/block-type-1/ice-cream-scoop.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { getProjectData } from '../../utils/get-project-data';\r\nimport SplitDragHandler from '../../utils/split+drag/split-controller';\r\nimport PannableViewport from '../../utils/split+drag/pannable-object-position';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport { useTooltipInit } from '../../utils/tooltip/tooltipInit';\r\nimport '../../styles/block-type-1.css';\r\n\r\ntype VideoSet = { webmUrl?: string; mp4Url?: string; poster?: any };\r\ntype MediaSlot = { alt?: string; image?: any; video?: VideoSet };\r\ntype IceData = { mediaOne: MediaSlot; mediaTwo: MediaSlot };\r\n\r\nconst MIN_PORTRAIT_SPLIT = 16;\r\nconst EPS = 0.25;\r\n\r\nexport default function IceCreamScoop() {\r\n  const [data, setData] = useState<IceData | null>(null);\r\n  const [split, setSplit] = useState(() => (window.innerWidth < 1024 ? 45 : 50));\r\n  const [isPortrait, setIsPortrait] = useState(window.innerHeight > window.innerWidth);\r\n\r\n  useTooltipInit();\r\n\r\n  useEffect(() => {\r\n    getProjectData<IceData>('ice-scoop').then((d) => setData(d));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onResize = () => setIsPortrait(window.innerHeight > window.innerWidth);\r\n    window.addEventListener('resize', onResize, { passive: true });\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, []);\r\n\r\n  if (!data) return null;\r\n\r\n  const media2IsVideo = Boolean(data.mediaTwo?.video?.webmUrl || data.mediaTwo?.video?.mp4Url);\r\n\r\n  const TOP = MIN_PORTRAIT_SPLIT;\r\n  const BOTTOM = 100 - MIN_PORTRAIT_SPLIT;\r\n  const nearTop = isPortrait && split <= TOP + EPS;\r\n  const nearBottom = isPortrait && split >= BOTTOM - EPS;\r\n\r\n  return (\r\n    <section className=\"block-type-1\" id=\"no-ssr\" style={{ position: 'relative' }}>\r\n      {/* LEFT / TOP */}\r\n      <div\r\n        className=\"media-content-1\"\r\n        style={\r\n          isPortrait\r\n            ? nearTop\r\n              ? { height: '0%', width: '100%', position: 'absolute', top: 0, transition: 'height 0.1s ease' }\r\n              : nearBottom\r\n              ? { height: '100%', width: '100%', position: 'absolute', top: 0, transition: 'height 0.1s ease' }\r\n              : { height: `${split}%`, width: '100%', position: 'absolute', top: 0 }\r\n            : { width: `${split}%`, height: '100%', position: 'absolute', left: 0 }\r\n        }\r\n      >\r\n        <PannableViewport sensitivity={2}>\r\n          <MediaLoader\r\n            type=\"image\"\r\n            src={data.mediaOne.image}\r\n            alt={data.mediaOne.alt || 'Ice Cream Scoop media'}\r\n            id=\"icecream-media-1\"\r\n            className=\"media-item-1 tooltip-ice-scoop\"\r\n            objectPosition=\"left center\"\r\n            style={{ width: '100%', height: '100%' }}\r\n          />\r\n        </PannableViewport>\r\n      </div>\r\n\r\n      <SplitDragHandler split={split} setSplit={setSplit} />\r\n\r\n      {/* RIGHT / BOTTOM */}\r\n      <div\r\n        className=\"media-content-2\"\r\n        style={\r\n          isPortrait\r\n            ? nearTop\r\n              ? {\r\n                  height: '100%',\r\n                  width: '100%',\r\n                  position: 'absolute',\r\n                  top: '0%',\r\n                  transition: 'height 0.1s ease, top 0.1s ease',\r\n                }\r\n              : nearBottom\r\n              ? {\r\n                  height: '0%',\r\n                  width: '100%',\r\n                  position: 'absolute',\r\n                  top: '100%',\r\n                  transition: 'height 0.1s ease, top 0.1s ease',\r\n                }\r\n              : {\r\n                  height: `${100 - split}%`,\r\n                  width: '100%',\r\n                  position: 'absolute',\r\n                  top: `${split}%`,\r\n                }\r\n            : {\r\n                width: `${100 - split}%`,\r\n                height: '100%',\r\n                position: 'absolute',\r\n                left: `${split}%`,\r\n              }\r\n        }\r\n      >\r\n        <PannableViewport>\r\n          <MediaLoader\r\n            type={media2IsVideo ? 'video' : 'image'}\r\n            src={media2IsVideo ? (data.mediaTwo.video as VideoSet) : (data.mediaTwo.image as any)}\r\n            alt={data.mediaTwo.alt || 'Ice Cream Scoop media'}\r\n            id=\"icecream-media-2\"\r\n            className=\"media-item-2 tooltip-ice-scoop\"\r\n            objectPosition=\"center bottom\"\r\n            style={{ width: '100%', height: '100%' }}\r\n          />\r\n        </PannableViewport>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["useEffect","useState","getProjectData","SplitDragHandler","PannableViewport","MediaLoader","useTooltipInit","jsx","_jsx","jsxs","_jsxs","MIN_PORTRAIT_SPLIT","EPS","IceCreamScoop","data","setData","split","setSplit","window","innerWidth","isPortrait","setIsPortrait","innerHeight","then","d","onResize","addEventListener","passive","removeEventListener","media2IsVideo","Boolean","mediaTwo","video","webmUrl","mp4Url","TOP","BOTTOM","nearTop","nearBottom","className","id","style","position","children","height","width","top","transition","left","sensitivity","type","src","mediaOne","image","alt","objectPosition"],"sourceRoot":""}