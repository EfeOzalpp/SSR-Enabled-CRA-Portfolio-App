{"version":3,"file":"src_utils_split_drag_split-controller_tsx-src_utils_tooltip_tooltipInit_ts.server.js","mappings":"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","sources":["webpack://personal-site/./src/ssr/logic/apply-split-style.ts","webpack://personal-site/./src/utils/content-utility/color-map.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/context-providers/project-context.tsx","webpack://personal-site/./src/utils/split+drag/split-controller.tsx","webpack://personal-site/./src/utils/tooltip/tooltip.ts","webpack://personal-site/./src/utils/tooltip/tooltipInit.ts"],"sourcesContent":["// One place to control the portrait floor, with a special rule for 768–1024.\r\nexport const PORTRAIT_MIN_RULES: Array<{ maxWidth: number; value: number }> = [\r\n  { maxWidth: 767,  value: 16 }, // phones\r\n  { maxWidth: 1024, value: 12 }, // tablets (your 768–1024 window)\r\n  { maxWidth: Infinity, value: 20 }, // anything larger in portrait\r\n];\r\n\r\n// Legacy name kept so existing imports won't break.\r\n// It is only used as a default when no window width exists (very rare here).\r\nexport const MIN_PORTRAIT_SPLIT = 18;\r\n\r\n// Tiny hysteresis used inside this module for snap animations.\r\nconst EPS = 0.25;\r\n\r\n// Exported helper so client/non-SSR components can compute the same value.\r\nexport function getPortraitMinSplit(viewportWidth: number | null | undefined): number {\r\n  const vw = typeof viewportWidth === 'number' && isFinite(viewportWidth) ? viewportWidth : 1024;\r\n  for (const rule of PORTRAIT_MIN_RULES) {\r\n    if (vw <= rule.maxWidth) return rule.value;\r\n  }\r\n  return PORTRAIT_MIN_RULES[PORTRAIT_MIN_RULES.length - 1].value;\r\n}\r\n\r\n/**\r\n * Apply split to two absolutely-positioned media containers.\r\n * Back-compat signature; optional 4th param lets callers pin a min floor explicitly.\r\n */\r\nexport function applySplitStyle(\r\n  split: number,\r\n  isPortrait: boolean,\r\n  ids: { m1: string; m2: string },\r\n  explicitMinPortrait?: number\r\n) {\r\n  const media1 = document.getElementById(ids.m1) as HTMLElement | null;\r\n  const media2 = document.getElementById(ids.m2) as HTMLElement | null;\r\n  if (!media1 || !media2) return;\r\n\r\n  const sClamped = Math.max(0, Math.min(100, split));\r\n\r\n  media1.style.position = 'absolute';\r\n  media2.style.position = 'absolute';\r\n\r\n  if (isPortrait) {\r\n    const minPortrait =\r\n      typeof explicitMinPortrait === 'number'\r\n        ? explicitMinPortrait\r\n        : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined);\r\n\r\n    const TOP = minPortrait;\r\n    const BOTTOM = 100 - minPortrait;\r\n\r\n    // clamp into the rails so the handle can't hide completely\r\n    const s = Math.max(TOP, Math.min(BOTTOM, sClamped));\r\n\r\n    // common portrait rails\r\n    media1.style.left = '0';\r\n    media1.style.width = '100%';\r\n    media2.style.left = '0';\r\n    media2.style.width = '100%';\r\n    media1.style.top = '0';\r\n\r\n    if (s <= TOP + EPS) {\r\n      // collapse TOP\r\n      media1.style.height = '0%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '0%';\r\n      media2.style.height = '100%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else if (s >= BOTTOM - EPS) {\r\n      // collapse BOTTOM\r\n      media1.style.height = '100%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '100%';\r\n      media2.style.height = '0%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else {\r\n      // normal split\r\n      media1.style.height = `${s}%`;\r\n      media1.style.transition = 'none';\r\n\r\n      media2.style.top = `${s}%`;\r\n      media2.style.height = `${100 - s}%`;\r\n      media2.style.transition = 'none';\r\n    }\r\n  } else {\r\n    // landscape unchanged\r\n    media1.style.top = '0';\r\n    media1.style.height = '100%';\r\n    media2.style.top = '0';\r\n    media2.style.height = '100%';\r\n\r\n    media1.style.left = '0';\r\n    media1.style.width = `${sClamped}%`;\r\n\r\n    media2.style.left = `${sClamped}%`;\r\n    media2.style.width = `${100 - sClamped}%`;\r\n  }\r\n}\r\n","// Master color config\r\nexport interface ProjectColor {\r\n  rgb: string;         // \"204, 85, 41\"\r\n  tooltipAlpha?: number;\r\n  defaultAlpha?: number;\r\n  darkThemeTop?: string; // optional override for theme-color\r\n}\r\n\r\nexport const projectColors: Record<string, ProjectColor> = {\r\n  'Rotary Lamp': {\r\n    rgb: '204, 85, 41',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(72, 161, 161, 1)'\r\n  },\r\n  'Ice Cream Scoop': {\r\n    rgb: '234, 103, 97',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(23, 27, 24, 1)'\r\n  },\r\n  'Data Visualization': {\r\n    rgb: '153, 199, 7',\r\n    tooltipAlpha: 0.8,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(28, 30, 31, 1)'\r\n  },\r\n  'Evade the Rock': {\r\n    rgb: '101, 86, 175',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgb(25, 25, 25)'\r\n  },\r\n  'Dynamic App': {\r\n    rgb: '120, 211, 255',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(17, 17, 17, 1)'\r\n  }\r\n};\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","// src/utils/context-providers/project-context.tsx\r\nimport React, {\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  ReactNode,\r\n} from 'react';\r\n\r\ntype ViewportAlignArgs = {\r\n  /** Prefer one of these to identify the block to align */\r\n  id?: string;              // e.g. 'block-game'\r\n  key?: string;             // e.g. 'game' -> resolves to #block-game in your aligner\r\n  el?: HTMLElement | null;  // direct element if you have it\r\n  /** Re-verify/re-apply on next rAF (helps on mobile Safari) */\r\n  retry?: boolean;\r\n};\r\n\r\ninterface ProjectVisibilityContextType {\r\n  activeProject?: string;\r\n  setActiveProject: (title: string) => void;\r\n\r\n  blockGClick: boolean;\r\n  setBlockGClick: (clicked: boolean) => void;\r\n\r\n  currentIndex: number;\r\n  setCurrentIndex: React.Dispatch<React.SetStateAction<number>>;\r\n\r\n  scrollContainerRef: React.RefObject<HTMLDivElement>;\r\n\r\n  isDragging: boolean;\r\n  setIsDragging: React.Dispatch<React.SetStateAction<boolean>>;\r\n\r\n  focusedProjectKey: string | null;\r\n  setFocusedProjectKey: React.Dispatch<React.SetStateAction<string | null>>;\r\n\r\n  previousScrollY: number | null;\r\n  setPreviousScrollY: React.Dispatch<React.SetStateAction<number | null>>;\r\n\r\n  /** Ask ScrollController to instantly align a block to the top (no smooth, no bump) */\r\n  requestViewportAlign: (args: ViewportAlignArgs) => void;\r\n\r\n  /**\r\n   * Register the actual align function (implemented inside ScrollController).\r\n   * ScrollController should call this once on mount and clean up on unmount.\r\n   */\r\n  registerViewportAlign: (fn: (args: ViewportAlignArgs) => void) => void;\r\n}\r\n\r\ninterface ProjectVisibilityProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst ProjectVisibilityContext = createContext<ProjectVisibilityContextType | undefined>(undefined);\r\n\r\nexport const ProjectVisibilityProvider = ({ children }: ProjectVisibilityProviderProps) => {\r\n  const [activeProject, setActiveProject] = useState<string | undefined>(undefined);\r\n  const [blockGClick, setBlockGClick] = useState(false);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [focusedProjectKey, setFocusedProjectKey] = useState<string | null>(null);\r\n  const [previousScrollY, setPreviousScrollY] = useState<number | null>(null);\r\n\r\n  const scrollContainerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // The ScrollController will register its implementation here.\r\n  const alignFnRef = useRef<(args: ViewportAlignArgs) => void>(() => { /* no-op by default */ });\r\n\r\n  const requestViewportAlign = React.useCallback((args: ViewportAlignArgs) => {\r\n    alignFnRef.current?.(args);\r\n  }, []);\r\n\r\n  const registerViewportAlign = React.useCallback((fn: (args: ViewportAlignArgs) => void) => {\r\n    alignFnRef.current = fn || (() => {});\r\n  }, []);\r\n\r\n  return (\r\n    <ProjectVisibilityContext.Provider\r\n      value={{\r\n        activeProject,\r\n        setActiveProject,\r\n        blockGClick,\r\n        setBlockGClick,\r\n        currentIndex,\r\n        setCurrentIndex,\r\n        scrollContainerRef,\r\n        isDragging,\r\n        setIsDragging,\r\n        focusedProjectKey,\r\n        setFocusedProjectKey,\r\n        previousScrollY,\r\n        setPreviousScrollY,\r\n        requestViewportAlign,\r\n        registerViewportAlign,\r\n      }}\r\n    >\r\n      {children}\r\n    </ProjectVisibilityContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useProjectVisibility = () => {\r\n  const context = useContext(ProjectVisibilityContext);\r\n  if (!context) {\r\n    throw new Error('useProjectVisibility must be used within ProjectVisibilityProvider');\r\n  }\r\n  return context;\r\n};\r\n","// src/utils/title/split-drag-handler.tsx (or your original path)\r\nimport React, { useRef, useEffect, useLayoutEffect, useState } from 'react';\r\nimport lottie from '../../utils/load-lottie'; // <-- lazy proxy (SVG-only build if you configured it)\r\nimport { useProjectVisibility } from '../context-providers/project-context';\r\nimport arrowData2 from '../../svg/arrow2.json';\r\nimport {\r\n  applySplitStyle,\r\n  getPortraitMinSplit,\r\n} from '../../ssr/logic/apply-split-style';\r\n\r\ntype SplitDragHandlerProps = {\r\n  split: number;\r\n  setSplit: React.Dispatch<React.SetStateAction<number>>;\r\n  ids?: { m1: string; m2: string };\r\n  minPortraitSplit?: number;\r\n};\r\n\r\nconst FLOOR_EPS = 0.25;\r\nconst PULSE_LOW_OPACITY = 0.35;\r\nconst PULSE_FADE_MS = 1500;\r\nconst PULSE_HOLD_MS = 180;\r\nconst PULSE_COOLDOWN_MS = 700;\r\n\r\n// minimal Lottie shape we use\r\ntype AnimationItemLike = {\r\n  goToAndStop: (v: number, isFrame?: boolean) => void;\r\n  playSegments: (seg: [number, number] | number[], force?: boolean) => void;\r\n  addEventListener: (name: string, cb: () => void) => void;\r\n  removeEventListener: (name: string, cb: () => void) => void;\r\n  destroy: () => void;\r\n  // optional field used in a fallback\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  [k: string]: any;\r\n};\r\n\r\nconst SplitDragHandler: React.FC<SplitDragHandlerProps> = ({\r\n  split,\r\n  setSplit,\r\n  ids,\r\n  minPortraitSplit,\r\n}) => {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const { setIsDragging } = useProjectVisibility();\r\n\r\n  const splitRef = useRef(split);\r\n  const isDraggingRef = useRef(false);\r\n  const isHoveringRef = useRef(false);\r\n\r\n  const arrowContainer = useRef<HTMLDivElement | null>(null);\r\n  const arrowAnimRef = useRef<AnimationItemLike | null>(null);\r\n\r\n  const [isPortrait, setIsPortrait] = useState(\r\n    typeof window !== 'undefined' ? window.innerHeight > window.innerWidth : false\r\n  );\r\n  const [isTouchDevice, setIsTouchDevice] = useState(false);\r\n\r\n  const minRef = useRef<number>(\r\n    typeof minPortraitSplit === 'number'\r\n      ? minPortraitSplit\r\n      : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined)\r\n  );\r\n\r\n  const initialPinchDistance = useRef<number | null>(null);\r\n  const pinchTriggeredRef = useRef(false);\r\n  const pinchThreshold = 10;\r\n  const lastPulseAtRef = useRef(0);\r\n\r\n  const playSegment = (() => {\r\n    let lastCompleteHandler: ((this: any) => void) | null = null;\r\n    let currentSegment: [number, number] | null = null;\r\n\r\n    return (segment: [number, number], holdFrame: number) => {\r\n      const anim = arrowAnimRef.current;\r\n      if (!anim) return;\r\n\r\n      if (lastCompleteHandler) {\r\n        anim.removeEventListener('complete', lastCompleteHandler as any);\r\n        lastCompleteHandler = null;\r\n      }\r\n\r\n      currentSegment = segment;\r\n\r\n      const onComplete = () => {\r\n        anim.removeEventListener('complete', onComplete as any);\r\n        lastCompleteHandler = null;\r\n        const currentFrame = (anim as any).currentFrame ?? 0;\r\n        if (currentSegment && Math.abs(currentFrame - currentSegment[1]) <= 2) {\r\n          anim.goToAndStop(holdFrame, true);\r\n        }\r\n      };\r\n\r\n      lastCompleteHandler = onComplete;\r\n      anim.addEventListener('complete', onComplete as any);\r\n      anim.playSegments(segment, true);\r\n    };\r\n  })();\r\n\r\n  const pulseLottie = async () => {\r\n    const now = performance.now();\r\n    if (now - lastPulseAtRef.current < PULSE_COOLDOWN_MS) return;\r\n    lastPulseAtRef.current = now;\r\n\r\n    const node = arrowContainer.current;\r\n    if (!node) return;\r\n\r\n    const prevTransition = node.style.transition;\r\n    try {\r\n      node.style.transition = `opacity ${PULSE_FADE_MS}ms ease`;\r\n      node.style.opacity = `${PULSE_LOW_OPACITY}`;\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS + PULSE_HOLD_MS));\r\n      node.style.opacity = '1';\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS));\r\n    } finally {\r\n      node.style.opacity = '1';\r\n      node.style.transition = prevTransition;\r\n    }\r\n  };\r\n\r\n  // Initial apply (SSR ids only)\r\n  useLayoutEffect(() => {\r\n    if (!ids) return;\r\n    const portraitNow = window.innerHeight > window.innerWidth;\r\n    setIsPortrait(portraitNow);\r\n    minRef.current =\r\n      typeof minPortraitSplit === 'number'\r\n        ? minPortraitSplit\r\n        : getPortraitMinSplit(window.innerWidth);\r\n    applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Resize/orientation listener\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const portraitNow = window.innerHeight > window.innerWidth;\r\n      setIsPortrait(portraitNow);\r\n      minRef.current =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      if (ids) applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n    };\r\n    window.addEventListener('resize', handleResize, { passive: true });\r\n    setIsTouchDevice('ontouchstart' in window || navigator.maxTouchPoints > 0);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Sync DOM on split/orientation change\r\n  useEffect(() => {\r\n    splitRef.current = split;\r\n    if (ids) applySplitStyle(split, isPortrait, ids, minRef.current);\r\n  }, [split, isPortrait, ids]);\r\n\r\n  const handlePointerMove = (clientX: number, clientY: number) => {\r\n    if (!isDraggingRef.current) return;\r\n\r\n    const vw = window.innerWidth;\r\n    const vh = window.innerHeight;\r\n    const portraitNow = vh > vw;\r\n\r\n    const minPortrait =\r\n      typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n    let next = portraitNow ? (clientY / vh) * 100 : (clientX / vw) * 100;\r\n\r\n    if (portraitNow) {\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      next = Math.max(TOP, Math.min(BOTTOM, next));\r\n\r\n      if (next <= TOP + FLOOR_EPS || next >= BOTTOM - FLOOR_EPS) {\r\n        pulseLottie();\r\n      }\r\n    } else {\r\n      next = Math.max(0, Math.min(100, next));\r\n    }\r\n\r\n    splitRef.current = next;\r\n    setSplit(next);\r\n    if (ids) applySplitStyle(next, portraitNow, ids, minPortrait);\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => handlePointerMove(e.clientX, e.clientY);\r\n  const handleTouchMove = (e: TouchEvent) => {\r\n    if (e.touches.length === 1 && isDraggingRef.current && !pinchTriggeredRef.current) {\r\n      e.preventDefault();\r\n      handlePointerMove(e.touches[0].clientX, e.touches[0].clientY);\r\n    } else if (e.touches.length === 2 && !isDraggingRef.current) {\r\n      const dx = e.touches[0].clientX - e.touches[1].clientX;\r\n      const dy = e.touches[0].clientY - e.touches[1].clientY;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n      if (initialPinchDistance.current === null) {\r\n        initialPinchDistance.current = distance;\r\n      } else if (!pinchTriggeredRef.current) {\r\n        const diff = Math.abs(distance - initialPinchDistance.current);\r\n        if (diff > pinchThreshold) {\r\n          pinchTriggeredRef.current = true;\r\n          isDraggingRef.current = false;\r\n          setIsDragging(false);\r\n          splitRef.current = 50;\r\n          setSplit(50);\r\n          if (ids) applySplitStyle(50, isPortrait, ids, minRef.current);\r\n          initialPinchDistance.current = null;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const startDragging = (e: Event) => {\r\n    e.preventDefault();\r\n    isDraggingRef.current = true;\r\n    setIsDragging(true);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([0, 25], true);\r\n      else anim.goToAndStop(25, true);\r\n    }\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('mouseup', stopDragging);\r\n    window.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n    window.addEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const stopDragging = () => {\r\n    isDraggingRef.current = false;\r\n    setIsDragging(false);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([25, 75], true);\r\n      else if (isHoveringRef.current) anim.goToAndStop(25, true);\r\n      else anim.playSegments([25, 75], true);\r\n    }\r\n\r\n    window.removeEventListener('mousemove', handleMouseMove);\r\n    window.removeEventListener('mouseup', stopDragging);\r\n    window.removeEventListener('touchmove', handleTouchMove);\r\n    window.removeEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    isHoveringRef.current = true;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([0, 25], 25);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    isHoveringRef.current = false;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([25, 75], 75);\r\n  };\r\n\r\n  const handleTouchStart = (e: TouchEvent) => {\r\n    e.preventDefault();\r\n    startDragging(e as unknown as Event);\r\n  };\r\n\r\n  const handleTouchEnd = async (e: TouchEvent) => {\r\n    let endSplit = splitRef.current;\r\n    if (e.changedTouches.length === 1) {\r\n      const t = e.changedTouches[0];\r\n      const vw = window.innerWidth;\r\n      const vh = window.innerHeight;\r\n      const portraitNow = vh > vw;\r\n      endSplit = portraitNow ? (t.clientY / vh) * 100 : (t.clientX / vw) * 100;\r\n\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n      if (portraitNow) {\r\n        const TOP = minPortrait;\r\n        const BOTTOM = 100 - minPortrait;\r\n        endSplit = Math.max(TOP, Math.min(BOTTOM, endSplit));\r\n      } else {\r\n        endSplit = Math.max(0, Math.min(100, endSplit));\r\n      }\r\n    }\r\n    stopDragging();\r\n\r\n    if (isPortrait) {\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      if (endSplit <= TOP + FLOOR_EPS || endSplit >= BOTTOM - FLOOR_EPS) {\r\n        await pulseLottie();\r\n        arrowAnimRef.current?.playSegments([25, 75], true);\r\n      }\r\n    }\r\n\r\n    initialPinchDistance.current = null;\r\n    pinchTriggeredRef.current = false;\r\n  };\r\n\r\n  // INIT LOTTIE (lazy) — await the instance\r\n  useEffect(() => {\r\n    let anim: AnimationItemLike | null = null;\r\n    let mounted = true;\r\n\r\n    (async () => {\r\n      const el = arrowContainer.current!;\r\n      anim = await lottie.loadAnimation({\r\n        container: el,\r\n        renderer: 'svg',\r\n        loop: false,\r\n        autoplay: false,\r\n        animationData: arrowData2,\r\n      });\r\n      if (!mounted || !anim) return;\r\n\r\n      arrowAnimRef.current = anim;\r\n\r\n      const container = containerRef.current;\r\n      if (container) container.style.opacity = '0';\r\n\r\n      const playInitial = () => {\r\n        anim!.goToAndStop(0, true);\r\n        setTimeout(() => anim!.playSegments([0, 75], true), 1200);\r\n        if (container) {\r\n          setTimeout(() => (container.style.opacity = '1'), 1200);\r\n        }\r\n        arrowContainer.current?.querySelector('svg')?.classList.add('drag-arrow');\r\n      };\r\n\r\n      anim.addEventListener('DOMLoaded', playInitial);\r\n      const fallback = setTimeout(() => {\r\n        if (!(anim as any).isLoaded) playInitial();\r\n      }, 2000);\r\n\r\n      // cleanup for this async init\r\n      return () => {\r\n        clearTimeout(fallback);\r\n        anim?.removeEventListener('DOMLoaded', playInitial);\r\n      };\r\n    })();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      arrowAnimRef.current?.destroy();\r\n      arrowAnimRef.current = null;\r\n    };\r\n  }, []);\r\n\r\n  // Replay on in-view\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    const anim = arrowAnimRef.current;\r\n    if (!container || !anim) return;\r\n\r\n    let views = 0;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting && views < 3) {\r\n            views += 1;\r\n            anim.goToAndStop(0, true);\r\n            setTimeout(() => anim.playSegments([0, 75], true), 200);\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.6 }\r\n    );\r\n    io.observe(container);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  // Pointer / touch listeners\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    container.addEventListener('mouseenter', handleMouseEnter);\r\n    container.addEventListener('mouseleave', handleMouseLeave);\r\n    container.addEventListener('mousedown', startDragging as any);\r\n    container.addEventListener('touchstart', handleTouchStart as any, { passive: false });\r\n    container.addEventListener('touchend', handleTouchEnd as any, { passive: true });\r\n\r\n    return () => {\r\n      container.removeEventListener('mouseenter', handleMouseEnter);\r\n      container.removeEventListener('mouseleave', handleMouseLeave);\r\n      container.removeEventListener('mousedown', startDragging as any);\r\n      container.removeEventListener('touchstart', handleTouchStart as any);\r\n      container.removeEventListener('touchend', handleTouchEnd as any);\r\n      stopDragging();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className=\"split-drag-handler\"\r\n      style={{\r\n        position: 'absolute',\r\n        ...(isPortrait\r\n          ? {\r\n              left: 0,\r\n              right: 0,\r\n              top: `${split}%`,\r\n              height: '5.4rem',\r\n              cursor: 'ns-resize',\r\n              transform: 'translateY(-50%)',\r\n            }\r\n          : {\r\n              top: 0,\r\n              bottom: 0,\r\n              left: `${split}%`,\r\n              width: '6.4rem',\r\n              cursor: 'ew-resize',\r\n              transform: 'translateX(-50%)',\r\n              height: 'calc(100% - 6em)',\r\n            }),\r\n        zIndex: 3000,\r\n        transition: isPortrait ? 'top 0s' : 'left 0s',\r\n        pointerEvents: 'all',\r\n        touchAction: isDraggingRef.current ? 'none' : 'auto',\r\n      }}\r\n    >\r\n      <div\r\n        ref={arrowContainer}\r\n        className=\"split-arrow\"\r\n        style={{\r\n          width: isPortrait ? '100%' : 'none',\r\n          height: isPortrait ? 'calc(100% - 4em)' : 'calc(100% + 3em)',\r\n          pointerEvents: 'none',\r\n          transform: isPortrait ? 'rotate(90deg)' : 'none',\r\n          transformOrigin: 'center center',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SplitDragHandler;\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  // local fallback\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  // CMS fetch by slug\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 1_500);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  currentKey = '';\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 8; left = x - rect.width * 0; }\r\n  else if (nearTop) { top = y + padding - 14; left = x - rect.width * 0; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 24; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding - 4; }\r\n  else { top = y - rect.height / 1.6; left = x + padding - 2; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n    const tooltipClass = [...el.classList].find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); return; }\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  // only attach scroll observer for non-mobile real viewports\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["PORTRAIT_MIN_RULES","maxWidth","value","Infinity","MIN_PORTRAIT_SPLIT","EPS","getPortraitMinSplit","viewportWidth","vw","isFinite","rule","length","applySplitStyle","split","isPortrait","ids","explicitMinPortrait","media1","document","getElementById","m1","media2","m2","sClamped","Math","max","min","style","position","minPortrait","window","innerWidth","undefined","TOP","BOTTOM","s","left","width","top","height","transition","projectColors","rgb","tooltipAlpha","defaultAlpha","darkThemeTop","useEffect","useState","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","matchMedia","matches","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","realMobile","addEventListener","removeEventListener","React","createContext","useContext","useRef","jsx","_jsx","ProjectVisibilityContext","ProjectVisibilityProvider","children","activeProject","setActiveProject","blockGClick","setBlockGClick","currentIndex","setCurrentIndex","isDragging","setIsDragging","focusedProjectKey","setFocusedProjectKey","previousScrollY","setPreviousScrollY","scrollContainerRef","alignFnRef","requestViewportAlign","useCallback","args","current","registerViewportAlign","fn","Provider","useProjectVisibility","context","Error","useLayoutEffect","lottie","arrowData2","FLOOR_EPS","PULSE_LOW_OPACITY","PULSE_FADE_MS","PULSE_HOLD_MS","PULSE_COOLDOWN_MS","SplitDragHandler","setSplit","minPortraitSplit","containerRef","splitRef","isDraggingRef","isHoveringRef","arrowContainer","arrowAnimRef","setIsPortrait","innerHeight","isTouchDevice","setIsTouchDevice","minRef","initialPinchDistance","pinchTriggeredRef","pinchThreshold","lastPulseAtRef","playSegment","lastCompleteHandler","currentSegment","segment","holdFrame","anim","onComplete","currentFrame","abs","goToAndStop","playSegments","pulseLottie","now","performance","node","prevTransition","opacity","Promise","r","setTimeout","portraitNow","handleResize","passive","handlePointerMove","clientX","clientY","vh","next","handleMouseMove","e","handleTouchMove","touches","preventDefault","dx","dy","distance","sqrt","diff","startDragging","stopDragging","handleMouseEnter","handleMouseLeave","handleTouchStart","handleTouchEnd","endSplit","changedTouches","t","mounted","el","loadAnimation","container","renderer","loop","autoplay","animationData","playInitial","querySelector","classList","add","fallback","isLoaded","clearTimeout","destroy","views","io","IntersectionObserver","entries","forEach","entry","isIntersecting","threshold","observe","disconnect","ref","className","right","cursor","transform","bottom","zIndex","pointerEvents","touchAction","transformOrigin","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","bgForKey","key","colorInfo","alpha","createTooltipDOM","createElement","id","visibility","backdropFilter","color","root","body","appendChild","tooltipEl","currentKey","hideTimeout","fetchTooltipDataForKey","bg","info","tags","backgroundColor","client","default","res","fetch","showTooltip","hideTooltip","positionTooltip","x","y","rect","getBoundingClientRect","padding","nearTop","nearBottom","nearRight","nearLeft","initGlobalTooltip","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipClass","find","c","startsWith","replace","innerHTML","map","join","onMouseMove","requestAnimationFrame","target","checkHoveredElementOnScroll","elementFromPoint","onScroll","onMouseOut","relatedTarget","remove","useTooltipInit","dispose"],"sourceRoot":""}