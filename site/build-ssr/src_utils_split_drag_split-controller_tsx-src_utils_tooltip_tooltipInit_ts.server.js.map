{"version":3,"file":"src_utils_split_drag_split-controller_tsx-src_utils_tooltip_tooltipInit_ts.server.js","mappings":"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","sources":["webpack://personal-site/./src/ssr/logic/apply-split-style.ts","webpack://personal-site/./src/utils/content-utility/color-map.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/context-providers/project-context.tsx","webpack://personal-site/./src/utils/split+drag/split-controller.tsx","webpack://personal-site/./src/utils/tooltip/tooltip.ts","webpack://personal-site/./src/utils/tooltip/tooltipInit.ts"],"sourcesContent":["// One place to control the portrait floor, with a special rule for 768–1024.\r\nexport const PORTRAIT_MIN_RULES: Array<{ maxWidth: number; value: number }> = [\r\n  { maxWidth: 767,  value: 16 }, // phones\r\n  { maxWidth: 1024, value: 12 }, // tablets (your 768–1024 window)\r\n  { maxWidth: Infinity, value: 20 }, // anything larger in portrait\r\n];\r\n\r\n// Legacy name kept so existing imports won't break.\r\n// It is only used as a default when no window width exists (very rare here).\r\nexport const MIN_PORTRAIT_SPLIT = 18;\r\n\r\n// Tiny hysteresis used inside this module for snap animations.\r\nconst EPS = 0.25;\r\n\r\n// Exported helper so client/non-SSR components can compute the same value.\r\nexport function getPortraitMinSplit(viewportWidth: number | null | undefined): number {\r\n  const vw = typeof viewportWidth === 'number' && isFinite(viewportWidth) ? viewportWidth : 1024;\r\n  for (const rule of PORTRAIT_MIN_RULES) {\r\n    if (vw <= rule.maxWidth) return rule.value;\r\n  }\r\n  return PORTRAIT_MIN_RULES[PORTRAIT_MIN_RULES.length - 1].value;\r\n}\r\n\r\n/**\r\n * Apply split to two absolutely-positioned media containers.\r\n * Back-compat signature; optional 4th param lets callers pin a min floor explicitly.\r\n */\r\nexport function applySplitStyle(\r\n  split: number,\r\n  isPortrait: boolean,\r\n  ids: { m1: string; m2: string },\r\n  explicitMinPortrait?: number\r\n) {\r\n  const media1 = document.getElementById(ids.m1) as HTMLElement | null;\r\n  const media2 = document.getElementById(ids.m2) as HTMLElement | null;\r\n  if (!media1 || !media2) return;\r\n\r\n  const sClamped = Math.max(0, Math.min(100, split));\r\n\r\n  media1.style.position = 'absolute';\r\n  media2.style.position = 'absolute';\r\n\r\n  if (isPortrait) {\r\n    const minPortrait =\r\n      typeof explicitMinPortrait === 'number'\r\n        ? explicitMinPortrait\r\n        : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined);\r\n\r\n    const TOP = minPortrait;\r\n    const BOTTOM = 100 - minPortrait;\r\n\r\n    // clamp into the rails so the handle can't hide completely\r\n    const s = Math.max(TOP, Math.min(BOTTOM, sClamped));\r\n\r\n    // common portrait rails\r\n    media1.style.left = '0';\r\n    media1.style.width = '100%';\r\n    media2.style.left = '0';\r\n    media2.style.width = '100%';\r\n    media1.style.top = '0';\r\n\r\n    if (s <= TOP + EPS) {\r\n      // collapse TOP\r\n      media1.style.height = '0%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '0%';\r\n      media2.style.height = '100%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else if (s >= BOTTOM - EPS) {\r\n      // collapse BOTTOM\r\n      media1.style.height = '100%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '100%';\r\n      media2.style.height = '0%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else {\r\n      // normal split\r\n      media1.style.height = `${s}%`;\r\n      media1.style.transition = 'none';\r\n\r\n      media2.style.top = `${s}%`;\r\n      media2.style.height = `${100 - s}%`;\r\n      media2.style.transition = 'none';\r\n    }\r\n  } else {\r\n    // landscape unchanged\r\n    media1.style.top = '0';\r\n    media1.style.height = '100%';\r\n    media2.style.top = '0';\r\n    media2.style.height = '100%';\r\n\r\n    media1.style.left = '0';\r\n    media1.style.width = `${sClamped}%`;\r\n\r\n    media2.style.left = `${sClamped}%`;\r\n    media2.style.width = `${100 - sClamped}%`;\r\n  }\r\n}\r\n","// Master color config\r\nexport interface ProjectColor {\r\n  rgb: string;         // \"204, 85, 41\"\r\n  tooltipAlpha?: number;\r\n  defaultAlpha?: number;\r\n  darkThemeTop?: string; // optional override for theme-color\r\n}\r\n\r\nexport const projectColors: Record<string, ProjectColor> = {\r\n  'Rotary Lamp': {\r\n    rgb: '204, 85, 41',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(72, 161, 161, 1)'\r\n  },\r\n  'Ice Cream Scoop': {\r\n    rgb: '234, 103, 97',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(23, 27, 24, 1)'\r\n  },\r\n  'Data Visualization': {\r\n    rgb: '153, 199, 7',\r\n    tooltipAlpha: 0.8,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(28, 30, 31, 1)'\r\n  },\r\n  'Evade the Rock': {\r\n    rgb: '101, 86, 175',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgb(25, 25, 25)'\r\n  },\r\n  'Dynamic App': {\r\n    rgb: '120, 211, 255',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(17, 17, 17, 1)'\r\n  }\r\n};\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","import React, {\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  ReactNode,\r\n} from 'react';\r\n\r\ninterface ProjectVisibilityContextType {\r\n  activeProject?: string;\r\n  setActiveProject: (title: string) => void;\r\n\r\n  blockGClick: boolean;\r\n  setBlockGClick: (clicked: boolean) => void;\r\n\r\n  currentIndex: number;\r\n  setCurrentIndex: React.Dispatch<React.SetStateAction<number>>;\r\n\r\n  scrollContainerRef: React.RefObject<HTMLDivElement>;\r\n\r\n  isDragging: boolean;\r\n  setIsDragging: React.Dispatch<React.SetStateAction<boolean>>;\r\n\r\n  focusedProjectKey: string | null;\r\n  setFocusedProjectKey: React.Dispatch<React.SetStateAction<string | null>>;\r\n\r\n  previousScrollY: number | null;\r\n  setPreviousScrollY: React.Dispatch<React.SetStateAction<number | null>>;\r\n}\r\n\r\ninterface ProjectVisibilityProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst ProjectVisibilityContext = createContext<ProjectVisibilityContextType | undefined>(undefined);\r\n\r\nexport const ProjectVisibilityProvider = ({ children }: ProjectVisibilityProviderProps) => {\r\n  const [activeProject, setActiveProject] = useState<string | undefined>(undefined);\r\n  const [blockGClick, setBlockGClick] = useState(false);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [focusedProjectKey, setFocusedProjectKey] = useState<string | null>(null);\r\n  const [previousScrollY, setPreviousScrollY] = useState<number | null>(null);\r\n\r\n  const scrollContainerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  return (\r\n    <ProjectVisibilityContext.Provider\r\n      value={{\r\n        activeProject,\r\n        setActiveProject,\r\n        blockGClick,\r\n        setBlockGClick,\r\n        currentIndex,\r\n        setCurrentIndex,\r\n        scrollContainerRef,\r\n        isDragging,\r\n        setIsDragging,\r\n        focusedProjectKey,\r\n        setFocusedProjectKey,\r\n        previousScrollY,\r\n        setPreviousScrollY,\r\n      }}\r\n    >\r\n      {children}\r\n    </ProjectVisibilityContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useProjectVisibility = () => {\r\n  const context = useContext(ProjectVisibilityContext);\r\n  if (!context) {\r\n    throw new Error('useProjectVisibility must be used within ProjectVisibilityProvider');\r\n  }\r\n  return context;\r\n};\r\n","import React, { useRef, useEffect, useLayoutEffect, useState } from 'react';\r\nimport lottie from 'lottie-web';\r\nimport { useProjectVisibility } from '../context-providers/project-context';\r\nimport arrowData2 from '../../svg/arrow2.json';\r\nimport {\r\n  applySplitStyle,\r\n  getPortraitMinSplit,\r\n} from '../../ssr/logic/apply-split-style';\r\n\r\ntype SplitDragHandlerProps = {\r\n  split: number;\r\n  setSplit: React.Dispatch<React.SetStateAction<number>>;\r\n  ids?: { m1: string; m2: string }; // optional (used by SSR-enhanced blocks)\r\n  /** Optional per-instance override (else it uses viewport-based rules). */\r\n  minPortraitSplit?: number;\r\n};\r\n\r\nconst FLOOR_EPS = 0.25;\r\nconst PULSE_LOW_OPACITY = 0.35;\r\nconst PULSE_FADE_MS = 1500;\r\nconst PULSE_HOLD_MS = 180;\r\nconst PULSE_COOLDOWN_MS = 700;\r\n\r\nconst SplitDragHandler: React.FC<SplitDragHandlerProps> = ({\r\n  split,\r\n  setSplit,\r\n  ids,\r\n  minPortraitSplit,\r\n}) => {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const { setIsDragging } = useProjectVisibility();\r\n\r\n  const splitRef = useRef(split);\r\n  const isDraggingRef = useRef(false);\r\n  const isHoveringRef = useRef(false);\r\n\r\n  const arrowContainer = useRef<HTMLDivElement | null>(null);\r\n  const arrowAnimRef = useRef<ReturnType<typeof lottie.loadAnimation> | null>(null);\r\n\r\n  const [isPortrait, setIsPortrait] = useState(\r\n    typeof window !== 'undefined' ? window.innerHeight > window.innerWidth : false\r\n  );\r\n  const [isTouchDevice, setIsTouchDevice] = useState(false);\r\n\r\n  // keep a live min floor based on viewport width (unless override provided)\r\n  const minRef = useRef<number>(\r\n    typeof minPortraitSplit === 'number'\r\n      ? minPortraitSplit\r\n      : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined)\r\n  );\r\n\r\n  // pinch-to-reset helpers\r\n  const initialPinchDistance = useRef<number | null>(null);\r\n  const pinchTriggeredRef = useRef(false);\r\n  const pinchThreshold = 10;\r\n\r\n  // throttle pulse\r\n  const lastPulseAtRef = useRef(0);\r\n\r\n  const playSegment = (() => {\r\n    let lastCompleteHandler: ((this: any) => void) | null = null;\r\n    let currentSegment: [number, number] | null = null;\r\n\r\n    return (segment: [number, number], holdFrame: number) => {\r\n      const anim = arrowAnimRef.current;\r\n      if (!anim) return;\r\n\r\n      if (lastCompleteHandler) {\r\n        anim.removeEventListener('complete', lastCompleteHandler as any);\r\n        lastCompleteHandler = null;\r\n      }\r\n\r\n      currentSegment = segment;\r\n\r\n      const onComplete = () => {\r\n        anim.removeEventListener('complete', onComplete as any);\r\n        lastCompleteHandler = null;\r\n        const currentFrame = (anim as any).currentFrame ?? 0;\r\n        if (currentSegment && Math.abs(currentFrame - currentSegment[1]) <= 2) {\r\n          anim.goToAndStop(holdFrame, true);\r\n        }\r\n      };\r\n\r\n      lastCompleteHandler = onComplete;\r\n      anim.addEventListener('complete', onComplete as any);\r\n      anim.playSegments(segment, true);\r\n    };\r\n  })();\r\n\r\n  const pulseLottie = async () => {\r\n    const now = performance.now();\r\n    if (now - lastPulseAtRef.current < PULSE_COOLDOWN_MS) return;\r\n    lastPulseAtRef.current = now;\r\n\r\n    const node = arrowContainer.current;\r\n    if (!node) return;\r\n\r\n    const prevTransition = node.style.transition;\r\n    try {\r\n      node.style.transition = `opacity ${PULSE_FADE_MS}ms ease`;\r\n      node.style.opacity = `${PULSE_LOW_OPACITY}`;\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS + PULSE_HOLD_MS));\r\n      node.style.opacity = '1';\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS));\r\n    } finally {\r\n      node.style.opacity = '1';\r\n      node.style.transition = prevTransition;\r\n    }\r\n  };\r\n\r\n  // Initial apply (SSR ids only)\r\n  useLayoutEffect(() => {\r\n    if (!ids) return;\r\n    const portraitNow = window.innerHeight > window.innerWidth;\r\n    setIsPortrait(portraitNow);\r\n    minRef.current =\r\n      typeof minPortraitSplit === 'number'\r\n        ? minPortraitSplit\r\n        : getPortraitMinSplit(window.innerWidth);\r\n    applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Resize/orientation listener\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const portraitNow = window.innerHeight > window.innerWidth;\r\n      setIsPortrait(portraitNow);\r\n      minRef.current =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      if (ids) applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n    };\r\n    window.addEventListener('resize', handleResize, { passive: true });\r\n    setIsTouchDevice('ontouchstart' in window || navigator.maxTouchPoints > 0);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Sync DOM on split/orientation change\r\n  useEffect(() => {\r\n    splitRef.current = split;\r\n    if (ids) applySplitStyle(split, isPortrait, ids, minRef.current);\r\n  }, [split, isPortrait, ids]);\r\n\r\n  const handlePointerMove = (clientX: number, clientY: number) => {\r\n    if (!isDraggingRef.current) return;\r\n\r\n    const vw = window.innerWidth;\r\n    const vh = window.innerHeight;\r\n    const portraitNow = vh > vw;\r\n\r\n    // live recompute (covers device rotation while dragging)\r\n    const minPortrait =\r\n      typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n    let next = portraitNow ? (clientY / vh) * 100 : (clientX / vw) * 100;\r\n\r\n    if (portraitNow) {\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      next = Math.max(TOP, Math.min(BOTTOM, next));\r\n\r\n      // pulse when user hits either floor\r\n      if (next <= TOP + FLOOR_EPS || next >= BOTTOM - FLOOR_EPS) {\r\n        pulseLottie();\r\n      }\r\n    } else {\r\n      next = Math.max(0, Math.min(100, next));\r\n    }\r\n\r\n    splitRef.current = next;\r\n    setSplit(next);\r\n    if (ids) applySplitStyle(next, portraitNow, ids, minPortrait);\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => handlePointerMove(e.clientX, e.clientY);\r\n  const handleTouchMove = (e: TouchEvent) => {\r\n    if (e.touches.length === 1 && isDraggingRef.current && !pinchTriggeredRef.current) {\r\n      e.preventDefault();\r\n      handlePointerMove(e.touches[0].clientX, e.touches[0].clientY);\r\n    } else if (e.touches.length === 2 && !isDraggingRef.current) {\r\n      const dx = e.touches[0].clientX - e.touches[1].clientX;\r\n      const dy = e.touches[0].clientY - e.touches[1].clientY;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n      if (initialPinchDistance.current === null) {\r\n        initialPinchDistance.current = distance;\r\n      } else if (!pinchTriggeredRef.current) {\r\n        const diff = Math.abs(distance - initialPinchDistance.current);\r\n        if (diff > pinchThreshold) {\r\n          pinchTriggeredRef.current = true;\r\n          isDraggingRef.current = false;\r\n          setIsDragging(false);\r\n          splitRef.current = 50;\r\n          setSplit(50);\r\n          if (ids) applySplitStyle(50, isPortrait, ids, minRef.current);\r\n          initialPinchDistance.current = null;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const startDragging = (e: Event) => {\r\n    e.preventDefault();\r\n    isDraggingRef.current = true;\r\n    setIsDragging(true);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([0, 25], true);\r\n      else anim.goToAndStop(25, true);\r\n    }\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('mouseup', stopDragging);\r\n    window.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n    window.addEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const stopDragging = () => {\r\n    isDraggingRef.current = false;\r\n    setIsDragging(false);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([25, 75], true);\r\n      else if (isHoveringRef.current) anim.goToAndStop(25, true);\r\n      else anim.playSegments([25, 75], true);\r\n    }\r\n\r\n    window.removeEventListener('mousemove', handleMouseMove);\r\n    window.removeEventListener('mouseup', stopDragging);\r\n    window.removeEventListener('touchmove', handleTouchMove);\r\n    window.removeEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    isHoveringRef.current = true;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([0, 25], 25);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    isHoveringRef.current = false;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([25, 75], 75);\r\n  };\r\n\r\n  const handleTouchStart = (e: TouchEvent) => {\r\n    e.preventDefault();\r\n    startDragging(e as unknown as Event);\r\n  };\r\n\r\n  const handleTouchEnd = async (e: TouchEvent) => {\r\n    let endSplit = splitRef.current;\r\n    if (e.changedTouches.length === 1) {\r\n      const t = e.changedTouches[0];\r\n      const vw = window.innerWidth;\r\n      const vh = window.innerHeight;\r\n      const portraitNow = vh > vw;\r\n      endSplit = portraitNow ? (t.clientY / vh) * 100 : (t.clientX / vw) * 100;\r\n\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n      if (portraitNow) {\r\n        const TOP = minPortrait;\r\n        const BOTTOM = 100 - minPortrait;\r\n        endSplit = Math.max(TOP, Math.min(BOTTOM, endSplit));\r\n      } else {\r\n        endSplit = Math.max(0, Math.min(100, endSplit));\r\n      }\r\n    }\r\n    stopDragging();\r\n\r\n    if (isPortrait) {\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      if (endSplit <= TOP + FLOOR_EPS || endSplit >= BOTTOM - FLOOR_EPS) {\r\n        await pulseLottie();\r\n        arrowAnimRef.current?.playSegments([25, 75], true);\r\n      }\r\n    }\r\n\r\n    initialPinchDistance.current = null;\r\n    pinchTriggeredRef.current = false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const anim = lottie.loadAnimation({\r\n      container: arrowContainer.current!,\r\n      renderer: 'svg',\r\n      loop: false,\r\n      autoplay: false,\r\n      animationData: arrowData2,\r\n    });\r\n    arrowAnimRef.current = anim;\r\n\r\n    const container = containerRef.current;\r\n    if (container) container.style.opacity = '0';\r\n\r\n    const playInitial = () => {\r\n      anim.goToAndStop(0, true);\r\n      setTimeout(() => anim.playSegments([0, 75], true), 1200);\r\n      if (container) {\r\n        setTimeout(() => (container.style.opacity = '1'), 1200);\r\n      }\r\n      arrowContainer.current?.querySelector('svg')?.classList.add('drag-arrow');\r\n    };\r\n\r\n    anim.addEventListener('DOMLoaded', playInitial);\r\n    const fallback = setTimeout(() => {\r\n      // @ts-ignore\r\n      if (!(anim as any).isLoaded) playInitial();\r\n    }, 2000);\r\n\r\n    return () => {\r\n      clearTimeout(fallback);\r\n      anim.removeEventListener('DOMLoaded', playInitial);\r\n      anim.destroy();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    const anim = arrowAnimRef.current;\r\n    if (!container || !anim) return;\r\n    let views = 0;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting && views < 3) {\r\n            views += 1;\r\n            anim.goToAndStop(0, true);\r\n            setTimeout(() => anim.playSegments([0, 75], true), 200);\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.6 }\r\n    );\r\n    io.observe(container);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n    container.addEventListener('mouseenter', handleMouseEnter);\r\n    container.addEventListener('mouseleave', handleMouseLeave);\r\n    container.addEventListener('mousedown', startDragging as any);\r\n    container.addEventListener('touchstart', handleTouchStart as any, { passive: false });\r\n    container.addEventListener('touchend', handleTouchEnd as any, { passive: true });\r\n    return () => {\r\n      container.removeEventListener('mouseenter', handleMouseEnter);\r\n      container.removeEventListener('mouseleave', handleMouseLeave);\r\n      container.removeEventListener('mousedown', startDragging as any);\r\n      container.removeEventListener('touchstart', handleTouchStart as any);\r\n      container.removeEventListener('touchend', handleTouchEnd as any);\r\n      stopDragging();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className=\"split-drag-handler\"\r\n      style={{\r\n        position: 'absolute',\r\n        ...(isPortrait\r\n          ? {\r\n              left: 0,\r\n              right: 0,\r\n              top: `${split}%`,\r\n              height: '5.4rem',\r\n              cursor: 'ns-resize',\r\n              transform: 'translateY(-50%)',\r\n            }\r\n          : {\r\n              top: 0,\r\n              bottom: 0,\r\n              left: `${split}%`,\r\n              width: '6.4rem',\r\n              cursor: 'ew-resize',\r\n              transform: 'translateX(-50%)',\r\n              height: 'calc(100% - 6em)',\r\n            }),\r\n        zIndex: 3000,\r\n        transition: isPortrait ? 'top 0s' : 'left 0s',\r\n        pointerEvents: 'all',\r\n        touchAction: isDraggingRef.current ? 'none' : 'auto',\r\n      }}\r\n    >\r\n      <div\r\n        ref={arrowContainer}\r\n        className=\"split-arrow\"\r\n        style={{\r\n          width: isPortrait ? '100%' : 'none',\r\n          height: isPortrait ? 'calc(100% - 4em)' : 'calc(100% + 3em)',\r\n          pointerEvents: 'none',\r\n          transform: isPortrait ? 'rotate(90deg)' : 'none',\r\n          transformOrigin: 'center center',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SplitDragHandler;\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n// IO gating state\r\nlet io: IntersectionObserver | null = null;\r\nlet observedEl: Element | null = null;\r\nlet visibleEnough = true; // only show/apply when true\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (!visibleEnough) return; // 🚫 gate: do not show if target < 0.3 visible\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 1_500);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  // keep currentKey so we can re-show quickly if still over same element\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 8; left = x - rect.width * 0; }\r\n  else if (nearTop) { top = y + padding - 14; left = x - rect.width * 0; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 24; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding - 4; }\r\n  else { top = y - rect.height / 1.6; left = x + padding - 2; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\n// (new) observe hovered/attached element and gate visibility\r\nfunction observeTargetForVisibility(el: Element | null) {\r\n  if (!('IntersectionObserver' in window)) {\r\n    visibleEnough = true;\r\n    return;\r\n  }\r\n  if (!io) {\r\n    io = new IntersectionObserver(\r\n      (entries) => {\r\n        const e = entries[0];\r\n        const ratio = e?.intersectionRatio ?? 0;\r\n        visibleEnough = !!e?.isIntersecting && ratio >= 0.3; // 🔑 gate at 0.3\r\n        if (!visibleEnough) hideTooltip();\r\n      },\r\n      { root: null, threshold: [0, 0.3, 1] }\r\n    );\r\n  }\r\n  if (observedEl) io.unobserve(observedEl);\r\n  observedEl = el || null;\r\n  if (observedEl) io.observe(observedEl);\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n\r\n    // find a tooltip-* class on the element or ancestors\r\n    const tooltipHost = el.closest('[class*=\"tooltip-\"]') as HTMLElement | null;\r\n    if (!tooltipHost) { hideTooltip(); observeTargetForVisibility(null); return; }\r\n\r\n    const tooltipClass = Array.from(tooltipHost.classList).find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); observeTargetForVisibility(null); return; }\r\n\r\n    // observe this specific element for visibility gating\r\n    observeTargetForVisibility(tooltipHost);\r\n\r\n    if (!visibleEnough) { hideTooltip(); return; } // don’t apply if under threshold\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    if (lastMouseX < 0 || lastMouseY < 0) return;\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    if (io) {\r\n      if (observedEl) io.unobserve(observedEl);\r\n      io.disconnect();\r\n      io = null;\r\n      observedEl = null;\r\n    }\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}\r\n","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["PORTRAIT_MIN_RULES","maxWidth","value","Infinity","MIN_PORTRAIT_SPLIT","EPS","getPortraitMinSplit","viewportWidth","vw","isFinite","rule","length","applySplitStyle","split","isPortrait","ids","explicitMinPortrait","media1","document","getElementById","m1","media2","m2","sClamped","Math","max","min","style","position","minPortrait","window","innerWidth","undefined","TOP","BOTTOM","s","left","width","top","height","transition","projectColors","rgb","tooltipAlpha","defaultAlpha","darkThemeTop","useEffect","useState","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","matchMedia","matches","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","realMobile","addEventListener","removeEventListener","React","createContext","useContext","useRef","jsx","_jsx","ProjectVisibilityContext","ProjectVisibilityProvider","children","activeProject","setActiveProject","blockGClick","setBlockGClick","currentIndex","setCurrentIndex","isDragging","setIsDragging","focusedProjectKey","setFocusedProjectKey","previousScrollY","setPreviousScrollY","scrollContainerRef","Provider","useProjectVisibility","context","Error","useLayoutEffect","lottie","arrowData2","FLOOR_EPS","PULSE_LOW_OPACITY","PULSE_FADE_MS","PULSE_HOLD_MS","PULSE_COOLDOWN_MS","SplitDragHandler","setSplit","minPortraitSplit","containerRef","splitRef","isDraggingRef","isHoveringRef","arrowContainer","arrowAnimRef","setIsPortrait","innerHeight","isTouchDevice","setIsTouchDevice","minRef","initialPinchDistance","pinchTriggeredRef","pinchThreshold","lastPulseAtRef","playSegment","lastCompleteHandler","currentSegment","segment","holdFrame","anim","current","onComplete","currentFrame","abs","goToAndStop","playSegments","pulseLottie","now","performance","node","prevTransition","opacity","Promise","r","setTimeout","portraitNow","handleResize","passive","handlePointerMove","clientX","clientY","vh","next","handleMouseMove","e","handleTouchMove","touches","preventDefault","dx","dy","distance","sqrt","diff","startDragging","stopDragging","handleMouseEnter","handleMouseLeave","handleTouchStart","handleTouchEnd","endSplit","changedTouches","t","loadAnimation","container","renderer","loop","autoplay","animationData","playInitial","querySelector","classList","add","fallback","isLoaded","clearTimeout","destroy","views","io","IntersectionObserver","entries","forEach","entry","isIntersecting","threshold","observe","disconnect","ref","className","right","cursor","transform","bottom","zIndex","pointerEvents","touchAction","transformOrigin","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","bgForKey","key","colorInfo","alpha","createTooltipDOM","el","createElement","id","visibility","backdropFilter","color","root","body","appendChild","tooltipEl","currentKey","hideTimeout","observedEl","visibleEnough","fetchTooltipDataForKey","bg","info","tags","backgroundColor","client","default","res","fetch","showTooltip","hideTooltip","positionTooltip","x","y","rect","getBoundingClientRect","padding","nearTop","nearBottom","nearRight","nearLeft","observeTargetForVisibility","ratio","intersectionRatio","unobserve","initGlobalTooltip","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipHost","closest","tooltipClass","Array","from","find","c","startsWith","replace","innerHTML","map","join","onMouseMove","requestAnimationFrame","target","checkHoveredElementOnScroll","elementFromPoint","onScroll","onMouseOut","relatedTarget","remove","useTooltipInit","dispose"],"sourceRoot":""}