{"version":3,"file":"src_components_block-type-1_rotary-lamp_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/block-type-1/rotary-lamp.tsx","webpack://personal-site/./src/styles/block-type-1.css"],"sourcesContent":["// RotaryLamp.tsx\r\nimport { useEffect, useState } from 'react';\r\nimport { getProjectData } from '../../utils/get-project-data';\r\nimport SplitDragHandler from '../../utils/split-controller';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport { useTooltipInit } from '../../utils/tooltip/tooltipInit';\r\nimport '../../styles/block-type-1.css';\r\n\r\ntype MediaSlot = { alt?: string; image?: any; video?: { asset?: { url?: string } } };\r\ntype RotaryData = { mediaOne: MediaSlot; mediaTwo: MediaSlot };\r\n\r\nexport default function RotaryLamp() {\r\n  const [data, setData] = useState<RotaryData | null>(null);\r\n  const [split, setSplit] = useState(() => (window.innerWidth < 768 ? 55 : 50));\r\n  const [isPortrait, setIsPortrait] = useState(window.innerHeight > window.innerWidth);\r\n\r\n  useTooltipInit();\r\n\r\n  useEffect(() => {\r\n    getProjectData<RotaryData>('rotary-lamp').then((d) => setData(d));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onResize = () => setIsPortrait(window.innerHeight > window.innerWidth);\r\n    window.addEventListener('resize', onResize, { passive: true });\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, []);\r\n\r\n  if (!data) return null;\r\n\r\n  const media1 = isPortrait ? data.mediaOne : data.mediaTwo;\r\n  const media2 = isPortrait ? data.mediaTwo : data.mediaOne;\r\n\r\n  return (\r\n    <section className=\"block-type-1\" id=\"no-ssr\" style={{ position: 'relative' }}>\r\n      {/* LEFT / TOP */}\r\n      <div\r\n        className=\"media-content-1\"\r\n        style={\r\n          isPortrait\r\n            ? { height: split <= 20 ? '0%' : `${split}%`, width: '100%', position: 'absolute', top: 0,\r\n                transition: split <= 20 ? 'height 0.1s ease' : 'none' }\r\n            : { width: `${split}%`, height: '100%', position: 'absolute', left: 0 }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type=\"image\"\r\n          src={media1.image}\r\n          alt={media1.alt || 'Rotary Lamp media'}\r\n          id=\"rotary-media-1\"\r\n          className=\"media-item-1 tooltip-rotary-lamp\"\r\n        />\r\n      </div>\r\n\r\n      <SplitDragHandler split={split} setSplit={setSplit} />\r\n\r\n      {/* RIGHT / BOTTOM */}\r\n      <div\r\n        className=\"media-content-2\"\r\n        style={\r\n          isPortrait\r\n            ? { height: split <= 20 ? '100%' : `${100 - split}%`, width: '100%', position: 'absolute',\r\n                top: split <= 20 ? '0%' : `${split}%`,\r\n                transition: split <= 20 ? 'height 0.1s ease, top 0.1s ease' : 'none' }\r\n            : { width: `${100 - split}%`, height: '100%', position: 'absolute', left: `${split}%` }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type={media2?.video?.asset?.url ? 'video' : 'image'}\r\n          src={media2?.video?.asset?.url || media2.image}\r\n          alt={media2.alt || 'Rotary Lamp media'}\r\n          id=\"rotary-media-2\"\r\n          className=\"media-item-2 tooltip-rotary-lamp\"\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n",""],"names":["useEffect","useState","getProjectData","SplitDragHandler","MediaLoader","useTooltipInit","jsx","_jsx","jsxs","_jsxs","RotaryLamp","data","setData","split","setSplit","window","innerWidth","isPortrait","setIsPortrait","innerHeight","then","d","onResize","addEventListener","passive","removeEventListener","media1","mediaOne","mediaTwo","media2","className","id","style","position","children","height","width","top","transition","left","type","src","image","alt","video","asset","url"],"sourceRoot":""}